(()=>{"use strict";var e={3795:(e,t,a)=>{a(702),a(8964);var o=a(1957),l=a(1947),i=a(499),s=a(9835);function n(e,t,a,o,l,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}const r=(0,s.aZ)({name:"App"});var d=a(1639);const u=(0,d.Z)(r,[["render",n]]),c=u;var m=a(3340),h=a(1809);const p=(0,m.h)((()=>{const e=(0,h.WB)();return e}));var g=a(8339),f=a(6970);const w={key:0},b={class:"row q-pt-xs"},_={class:"col-8"},q={class:"col-2 flex flex-center"},y={class:"col-2 flex flex-center"},v=["src"],C={class:"row"},W={class:"col-3 flex flex-center"},k={class:"col-9"},x=(0,s._)("div",{class:"text-h6 text-bold"},"Portafolio",-1),U={class:"text-caption"};function V(e,t,a,o,l,i){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-toolbar-title"),d=(0,s.up)("q-icon"),u=(0,s.up)("q-input"),c=(0,s.up)("q-badge"),m=(0,s.up)("q-avatar"),h=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),g=(0,s.up)("q-separator"),V=(0,s.up)("q-list"),D=(0,s.up)("q-menu"),$=(0,s.up)("q-toolbar"),Z=(0,s.up)("q-header"),A=(0,s.up)("q-item-label"),E=(0,s.up)("q-drawer"),S=(0,s.up)("router-view"),Q=(0,s.up)("q-page-container"),I=(0,s.up)("q-layout"),P=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(I,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",dense:"",round:"",color:"primary",icon:"menu","aria-label":"Menu",onClick:i.toggleLeftDrawer},null,8,["onClick"]),(0,s.Wm)(r,{class:"text-bold text-primary"},{default:(0,s.w5)((()=>[e.$q.screen.lt.md?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",w,(0,f.zw)(l.store.user.name),1))])),_:1}),(0,s._)("div",b,[(0,s._)("div",_,[(0,s.Wm)(u,{dense:"",rounded:"",outlined:"",modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e),placeholder:"Buscar"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])]),(0,s._)("div",q,[(0,s.Wm)(n,{flat:"",dense:"",round:"",color:"primary",icon:"o_notifications","aria-label":"Notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{color:"primary",floating:"",transparent:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" 4 ")])),_:1})])),_:1})]),(0,s._)("div",y,[(0,s.Wm)(n,{round:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{size:"38px"},{default:(0,s.w5)((()=>[void 0!=l.store.user.foto?((0,s.wg)(),(0,s.iD)("img",{key:0,src:l.url+"../imagenes/"+l.store.user.foto},null,8,v)):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(V,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/datos"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{color:"primary",name:"perm_contact_calendar"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(l.store.user.name),1)])),_:1})])),_:1})),[[P]]),(0,s.Wm)(g),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:i.logout},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{color:"primary",name:"logout"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Salir")])),_:1})])),_:1},8,["onClick"])),[[P]])])),_:1})])),_:1})])),_:1})])])])),_:1})])),_:1}),(0,s.Wm)(E,{modelValue:l.leftDrawerOpen,"onUpdate:modelValue":t[1]||(t[1]=e=>l.leftDrawerOpen=e),"show-if-above":"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",C,[(0,s._)("div",W,[(0,s.Wm)(d,{color:"primary",size:"48px",name:"o_inventory_2"})]),(0,s._)("div",k,[x,(0,s._)("div",U,[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Virtual")])),_:1}),(0,s.Uk)(" 1.48.5 ")])])])])),_:1}),(0,s.Wm)(g),(0,s.Wm)($,{class:"bg-primary text-white shadow-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Opciones")])),_:1})])),_:1}),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_home"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Principal")])),_:1}),(0,s.Wm)(A,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Inicio")])),_:1})])),_:1})])),_:1})),[[P]]),1==l.store.user.id?(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{key:0,clickable:"",to:"/user",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_people"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Usuarios")])),_:1}),(0,s.Wm)(A,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Control de usuarios")])),_:1})])),_:1})])),_:1})),[[P]]):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/portafolio",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_description"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Portafolio digital")])),_:1}),(0,s.Wm)(A,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Docente")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/datos",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_face"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Mis datos")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/student",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"people"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Estudiantes")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/schedule",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"schedule"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Horarios")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/note",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"verified"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Notas")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",to:"/asistencia",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"checklist"})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Asistencia")])),_:1})])),_:1})])),_:1})),[[P]])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S)])),_:1})])),_:1})}a(9665);var D=a(7292),$=a(4376);const Z={name:"MainLayout",data(){return{loading:!1,url:"https://bportafolio.siscenter.org/api/",leftDrawerOpen:!1,search:"",store:(0,D.A)(),menu:!1,message:""}},created(){},methods:{reload(){this.$q.dialog({title:"Actualizar",message:"¿Desea actualizar la información?",cancel:!0,persistent:!0}).onOk((()=>{window.location.href=window.location.href,window.location.replace(window.location.href)}))},logout(){this.$q.dialog({message:"¿Quieres cerrar sesión?",title:"Salir",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.post("logout").then((e=>{this.$api.defaults.headers.common["Authorization"]="",this.store.user={},this.store.negocio={},this.store.userChat={},localStorage.removeItem("tokenPort"),this.store.isLoggedIn=!1,this.$router.push("/login"),this.$q.loading.hide()}))}))},toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen}}};var A=a(7605),E=a(6602),S=a(1663),Q=a(4455),I=a(1973),P=a(6611),O=a(2857),z=a(990),M=a(1357),j=a(6362),N=a(3246),R=a(490),T=a(1233),G=a(926),L=a(3655),B=a(3115),F=a(2133),Y=a(1136),H=a(9984),J=a.n(H);const K=(0,d.Z)(Z,[["render",V]]),X=K;J()(Z,"components",{QLayout:A.Z,QHeader:E.Z,QToolbar:S.Z,QBtn:Q.Z,QToolbarTitle:I.Z,QInput:P.Z,QIcon:O.Z,QBadge:z.Z,QAvatar:M.Z,QMenu:j.Z,QList:N.Z,QItem:R.Z,QItemSection:T.Z,QSeparator:G.Z,QDrawer:L.Z,QItemLabel:B.Z,QPageContainer:F.Z}),J()(Z,"directives",{Ripple:Y.Z});const ee={class:"row"},te={class:"col-12 col-sm-3 q-pa-md"},ae={class:"text-h6 text-white"},oe={class:"text-h2 text-white"},le={class:"col-12 col-sm-3 q-pa-md"},ie={class:"text-h6 text-white"},se={class:"text-h2 text-white"},ne={class:"col-12 col-sm-3 q-pa-md"},re={class:"text-h6 text-white"},de={class:"text-h2 text-white"},ue={class:"col-12 col-sm-3 q-pa-md"},ce={class:"text-h6 text-white"},me={class:"text-h2 text-white"},he={class:"col-12 col-sm-3 q-pa-md"},pe={class:"text-h6 text-white"},ge={class:"text-h2 text-white"};function fe(e,t,a,o,l,i){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-card-section"),d=(0,s.up)("q-card"),u=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(u,{class:""},{default:(0,s.w5)((()=>[(0,s._)("div",ee,[(0,s._)("div",te,[(0,s.Wm)(d,{class:"bg-green"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",ae,[(0,s.Uk)("Usuarios "),(0,s.Wm)(n,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",oe,(0,f.zw)(l.datos.users),1)])),_:1})])),_:1})]),(0,s._)("div",le,[(0,s.Wm)(d,{class:"bg-red"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",ie,[(0,s.Uk)("Materias "),(0,s.Wm)(n,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",se,(0,f.zw)(l.datos.materias),1)])),_:1})])),_:1})]),(0,s._)("div",ne,[(0,s.Wm)(d,{class:"bg-blue"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",re,[(0,s.Uk)("Semestres "),(0,s.Wm)(n,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",de,(0,f.zw)(l.datos.semestres),1)])),_:1})])),_:1})]),(0,s._)("div",ue,[(0,s.Wm)(d,{class:"bg-info"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",ce,[(0,s.Uk)("Documentos "),(0,s.Wm)(n,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",me,(0,f.zw)(l.datos.documentos),1)])),_:1})])),_:1})]),(0,s._)("div",he,[(0,s.Wm)(d,{class:"bg-secondary"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",pe,[(0,s.Uk)("Registros "),(0,s.Wm)(n,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",ge,(0,f.zw)(l.datos.registros),1)])),_:1})])),_:1})])])])),_:1})}const we={data(){return{datos:[]}},created(){this.actualizar()},methods:{actualizar(){this.$q.loading.show(),this.$api.get("totales").then((e=>{this.datos=e.data,this.$q.loading.hide()}))}}};var be=a(9885),_e=a(4458),qe=a(3190);const ye=(0,d.Z)(we,[["render",fe]]),ve=ye;J()(we,"components",{QPage:be.Z,QCard:_e.Z,QCardSection:qe.Z,QBtn:Q.Z});const Ce=e=>((0,s.dD)("data-v-0b3af054"),e=e(),(0,s.Cn)(),e),We={class:"row"},ke=Ce((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1))),xe={class:"col-10 col-sm-4"},Ue=Ce((()=>(0,s._)("div",{class:"text-subtitle1 text-center q-pt-xs text-grey"},"CUENTA",-1))),Ve=Ce((()=>(0,s._)("div",{class:"text-h2 text-center q-pa-xs text-black text-bold"},"Tu Cuenta",-1))),De={class:"row"},$e={class:"col-12"},Ze={class:"col-12 q-pt-lg"},Ae={class:"col-12 q-py-xs"},Ee={class:"col-12 q-pt-xs"},Se=Ce((()=>(0,s._)("div",{class:"col-12 q-pt-xs"},null,-1))),Qe=Ce((()=>(0,s._)("div",{class:"col-12 text-center q-py-none"},[(0,s._)("a",{href:"",class:"text-blue-8"},"¿Olvidaste tu contraseña?")],-1))),Ie=Ce((()=>(0,s._)("div",{class:"col-12 text-center q-py-none text-caption"},[(0,s._)("div",{class:"linea"},[(0,s._)("span",null,"O INICIAR SESIÓN CON")])],-1))),Pe={class:"col-12 q-pt-md q-pl-xs"},Oe=Ce((()=>(0,s._)("div",{class:"text-subtitle1 text-center text-caption q-pt-lg text-grey"},[(0,s.Uk)("AL INICIAR SESIÓN, USTED ACEPTA LOS "),(0,s._)("a",{href:"",class:"text-blue-8"},"TÉRMINOS DEL SERVICIO"),(0,s.Uk)(" Y "),(0,s._)("a",{href:"",class:"text-blue-8"},"LA POLÍTICA DE PRIVACIDAD")],-1))),ze=Ce((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1)));function Me(e,t,a,l,i,n){const r=(0,s.up)("q-input"),d=(0,s.up)("q-icon"),u=(0,s.up)("q-checkbox"),c=(0,s.up)("q-btn"),m=(0,s.up)("q-form"),h=(0,s.up)("q-card-section"),p=(0,s.up)("q-card"),g=(0,s.up)("q-page"),f=(0,s.up)("q-page-container"),w=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(w,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",We,[ke,(0,s._)("div",xe,[Ue,Ve,(0,s.Wm)(p,{flat:"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"q-pa-lg",onSubmit:(0,o.iM)(n.login,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",De,[(0,s._)("div",$e,[(0,s.Wm)(r,{outlined:"",modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),label:"Email",type:"email",required:""},null,8,["modelValue"])]),(0,s._)("div",Ze,[(0,s.Wm)(r,{outlined:"",modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),label:"Contraseña",type:i.typePassword?"password":"text",required:""},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{onClick:t[1]||(t[1]=e=>i.typePassword=!i.typePassword),name:i.typePassword?"visibility":"visibility_off"},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,s._)("div",Ae,[(0,s.Wm)(u,{modelValue:i.remember,"onUpdate:modelValue":t[3]||(t[3]=e=>i.remember=e),class:"grey",label:"Recuérdame",size:"30px"},null,8,["modelValue"])]),(0,s._)("div",Ee,[(0,s.Wm)(c,{size:"22px",loading:i.loading,class:"full-width bold",color:"primary",label:"Iniciar Sesión",type:"submit","no-caps":""},null,8,["loading"])]),Se,Qe,Ie,(0,s._)("div",Pe,[(0,s.Wm)(c,{outline:"",icon:"fa-brands fa-google",color:"primary",class:"full-width"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),Oe]),ze])])),_:1})])),_:1})])),_:1})}var je=a(6511);const Ne={name:"Login",data(){return{email:"",password:"",remember:!1,typePassword:!0,loading:!1,store:(0,D.A)()}},mounted(){this.store.isLoggedIn&&this.$router.push("/")},methods:{useAuthProvider(e,t){const a=t,o=a||je.Providers[e];this.$q.loading.show(),this.$Oauth.authenticate(e,o).then((t=>{t.code?this.$api.post("sociallogin/"+e,t).then((e=>{this.$q.loading.hide(),this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenPort",e.data.token)})).catch((e=>{console.log({err:e})})).finally((()=>{this.$q.loading.hide()})):this.$q.loading.hide()})).catch((e=>{console.log(e)})).finally((()=>{}))},login(){this.loading=!0,this.$api.post("login",{email:this.email,password:this.password}).then((e=>{this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenPort",e.data.token)})).catch((e=>{console.log(e),this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1}))}}};var Re=a(8326),Te=a(1221);const Ge=(0,d.Z)(Ne,[["render",Me],["__scopeId","data-v-0b3af054"]]),Le=Ge;J()(Ne,"components",{QLayout:A.Z,QPageContainer:F.Z,QPage:be.Z,QCard:_e.Z,QCardSection:qe.Z,QForm:Re.Z,QInput:P.Z,QIcon:O.Z,QCheckbox:Te.Z,QBtn:Q.Z});const Be={class:"row"},Fe={class:"col-6 col-sm-3 text-center"},Ye={class:"col-6 col-sm-3 text-center"},He={class:"col-12 q-pa-xs"},Je={class:"row items-center"},Ke={key:0},Xe=["href","onClick"],et={key:1,class:"text-weight-bold text-primary"},tt=(0,s._)("div",{class:"text-h6"},"Registro",-1),at={class:"flex flex-center"},ot=(0,s._)("div",{class:"text-h6"},"Subir archivo",-1);function lt(e,t,a,o,l,i){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),d=(0,s.up)("q-tooltip"),u=(0,s.up)("q-tree"),c=(0,s.up)("q-card-section"),m=(0,s.up)("q-input"),h=(0,s.up)("q-uploader"),p=(0,s.up)("q-form"),g=(0,s.up)("q-card"),w=(0,s.up)("q-dialog"),b=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(b,null,{default:(0,s.w5)((()=>[(0,s._)("div",Be,[(0,s._)("div",Fe,[(0,s.Wm)(n,{onClick:i.materiaCreate,loading:l.loading,icon:"o_menu_book",color:"primary",label:"Crear materia"},null,8,["onClick","loading"])]),(0,s._)("div",Ye,[(0,s.Wm)(n,{outline:"",onClick:i.materiaGet,loading:l.loading,icon:"refresh",color:"primary",label:"Actualizar"},null,8,["onClick","loading"])]),(0,s._)("div",He,[(0,s.Wm)(u,{nodes:l.materias,"node-key":"nombre","default-expand-all":""},{"default-header":(0,s.w5)((e=>[(0,s._)("div",Je,[(0,s.Wm)(r,{name:e.node.icon||"share",color:"primary",size:"28px",class:"q-mr-sm"},null,8,["name"]),e.node.url?((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s._)("a",{href:e.node.url,onClick:t=>i.openPage(e.node.url),target:"_blank"},(0,f.zw)(e.node.label),9,Xe),(0,s.Wm)(n,{flat:"",dense:"",onClick:t=>i.registroEdit(e.node),icon:"edit",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(n,{flat:"",dense:"",onClick:t=>i.materiaDelete(e.node),icon:"delete",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:2},1032,["onClick"])])):((0,s.wg)(),(0,s.iD)("div",et,[(0,s.Uk)((0,f.zw)(e.node.label)+" ",1),(0,s.Wm)(n,{flat:"",dense:"",onClick:t=>i.materiaEdit(e.node),icon:"edit",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Modificar")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(n,{flat:"",dense:"",onClick:t=>i.materiaDelete(e.node),icon:"delete",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:2},1032,["onClick"]),"materia"==e.node.type?((0,s.wg)(),(0,s.j4)(n,{key:0,flat:"",dense:"",onClick:t=>i.semestreCreate(e.node),icon:"add_circle_outline",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"semestre"==e.node.type?((0,s.wg)(),(0,s.j4)(n,{key:1,flat:"",dense:"",onClick:t=>i.documentoCreate(e.node),icon:"add_circle_outline",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"documento"==e.node.type?((0,s.wg)(),(0,s.j4)(n,{key:2,flat:"",dense:"",onClick:t=>i.registroCreate(e.node),icon:"add_circle_outline",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0)]))])])),_:1},8,["nodes"])])]),(0,s.Wm)(w,{modelValue:l.registroDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>l.registroDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"80vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[tt])),_:1}),(0,s.Wm)(c,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:i.registroSave,onReset:t[1]||(t[1]=e=>l.registroDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{outlined:"",modelValue:l.registro.nombre,"onUpdate:modelValue":t[0]||(t[0]=e=>l.registro.nombre=e),label:"Nombre"},null,8,["modelValue"]),(0,s._)("div",at,[(0,s.Wm)(h,{onAdded:i.uploadFile,"auto-upload":"","max-files":"1",label:"Subir archivo",flat:"",bordered:""},null,8,["onAdded"])]),(0,s.Wm)(n,{type:"submit",color:"primary",label:"Guardar"}),(0,s.Wm)(n,{type:"reset",color:"primary",flat:"",label:"Cancelar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:l.dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>l.dialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[ot])),_:1}),(0,s.Wm)(c,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",null,(0,f.zw)(l.percentage)+" %",1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const it={name:"Portafolio",data(){return{registro:{},loading:!1,expanded:!0,materias:[],store:(0,D.A)(),registroDialog:!1,registroInsert:!0,percentage:0,dialog:!1,file:"",url:"https://bportafolio.siscenter.org/api/"}},created(){this.materiaGet()},methods:{uploadFile(e){this.loading=!0,this.dialog=!0;const t=new FormData;t.append("file",e[0]),this.$api.post("upload",t,{onUploadProgress:e=>{this.percentage=parseInt(Math.round(100*e.loaded/e.total))}}).then((e=>{this.file=e.data,this.loading=!1})).catch((e=>{console.log(e),this.loading=!1})).finally((()=>{this.dialog=!1}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},registroSave(){""!=this.file?(this.registro.url=this.file,this.registroInsert?this.$api.post("registro",this.registro).then((e=>{this.registroDialog=!1,this.file="",this.materiaGet()})):this.$api.put("registro/"+this.registro.id,this.registro).then((e=>{this.registroDialog=!1,this.file="",this.materiaGet()}))):this.$q.notify({type:"negative",message:"Debe subir un archivo"})},registroCreate(e){e.nombre="",e.documento_id=e.id,this.registroInsert=!0,this.registro=e,this.registroDialog=!0},registroEdit(e){this.registro=e,this.registroInsert=!1,this.registroDialog=!0},documentoCreate(e){console.log(e),this.$q.dialog({title:"Crear documento",prompt:{model:"",type:"text",label:"Nombre del documento",hint:"Ejemplo: Tarea 1"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.post("/documento",{nombre:t,semestre_id:e.id}).then((e=>{console.log(e.data),this.$q.notify({message:"Documento creado",color:"positive",icon:"check_circle"}),this.materiaGet()})).catch((e=>{this.$q.notify({message:"Error al crear documento",color:"negative",icon:"error"})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},semestreCreate(e){this.$q.dialog({title:"Crear semetre",message:"Ingrese el nombre del semestre",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.post("semestre",{nombre:t,materia_id:e.id}).then((e=>{this.materiaGet()}))}))},materiaDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar?",ok:"Si",cancel:"No"}).onOk((()=>{this.loading=!0,this.$api.delete(`${e.type}/${e.id}`).then((e=>{this.loading=!1,this.$q.notify({message:"Eliminado",color:"positive",position:"top",icon:"check_circle"}),this.materiaGet()})).catch((e=>{this.loading=!1,this.$q.notify({message:e.response.data.message,color:"negative",position:"top",icon:"error"})}))}))},materiaEdit(e){this.$q.dialog({title:"Editar ",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.put(e.type+"/"+e.id,{nombre:t}).then((e=>{this.materiaGet()}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismiss")}))},materiaCreate(){this.$q.dialog({title:"Crear materia",message:"Ingrese el nombre de la materia",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.loading=!0,this.$api.post("materia",{nombre:e,user_id:this.store.user.id}).then((e=>{this.loading=!1,this.$q.notify({message:"Materia creada",color:"positive",icon:"check_circle",position:"top"}),this.materiaGet()})).catch((e=>{this.loading=!1,this.$q.notify({message:"Error al crear materia",color:"negative",icon:"error",position:"top"})}))}))},openPage(e){window.open(`${this.url}../imagenes/${e}`,"_blank")},materiaGet(){this.loading=!0,this.$api.get("materia").then((e=>{this.loading=!1,this.materias=[],e.data.forEach((e=>{e.label=e.nombre,e.icon="o_menu_book",e.type="materia",void 0!=e.semestres&&(e.semestres.forEach((e=>{e.label=e.nombre,e.icon="o_local_library",e.type="semestre",void 0!=e.documentos&&(e.documentos.forEach((e=>{e.label=e.nombre,e.icon="o_school",e.type="documento",void 0!=e.registros&&(e.registros.forEach((e=>{e.label=e.nombre,e.icon="o_book",e.type="registro",e.url=e.url})),e.children=e.registros)})),e.children=e.documentos)})),e.children=e.semestres),this.materias.push(e)}))}))}}};var st=a(1893),nt=a(6858),rt=a(2074),dt=a(4343);const ut=(0,d.Z)(it,[["render",lt]]),ct=ut;J()(it,"components",{QPage:be.Z,QBtn:Q.Z,QTree:st.Z,QIcon:O.Z,QTooltip:nt.Z,QDialog:rt.Z,QCard:_e.Z,QCardSection:qe.Z,QForm:Re.Z,QInput:P.Z,QUploader:dt.Z});const mt=(0,s._)("div",{class:"text-h6"},"Agregar Usuario",-1),ht=(0,s._)("div",{class:"text-h6"},"Agregar Usuario",-1);function pt(e,t,a,l,i,n){const r=(0,s.up)("q-btn"),d=(0,s.up)("q-input"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-td"),m=(0,s.up)("q-table"),h=(0,s.up)("q-card-section"),p=(0,s.up)("q-form"),g=(0,s.up)("q-card"),f=(0,s.up)("q-dialog"),w=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{rows:i.users,columns:i.userColums,filter:i.search},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",icon:"add_circle_outline",onClick:t[0]||(t[0]=e=>{i.showAddUserDialog=!0,i.userCrear=!0})}),(0,s.Wm)(d,{modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-role":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e,"auto-width":""},null,8,["props"])])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",dense:"",icon:"o_edit",onClick:t=>n.userEdit(e.row)},null,8,["onClick"]),1!=e.row.id?((0,s.wg)(),(0,s.j4)(r,{key:0,flat:"",dense:"",icon:"o_delete",onClick:t=>n.userDelete(e.row)},null,8,["onClick"])):(0,s.kq)("",!0),1!=e.row.id?((0,s.wg)(),(0,s.j4)(r,{key:1,flat:"",dense:"",icon:"o_key",onClick:t=>n.updatePassword(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(f,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center"},{default:(0,s.w5)((()=>[mt])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,o.iM)(n.userCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.user.name,"onUpdate:modelValue":t[2]||(t[2]=e=>i.user.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.user.email,"onUpdate:modelValue":t[3]||(t[3]=e=>i.user.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.user.password,"onUpdate:modelValue":t[4]||(t[4]=e=>i.user.password=e),type:"password",hint:"",required:"",outlined:"",label:"Password"},null,8,["modelValue"]),(0,s.Wm)(r,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(f,{modelValue:i.showUpdateUserDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>i.showUpdateUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center"},{default:(0,s.w5)((()=>[ht])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,o.iM)(n.userUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.user.name,"onUpdate:modelValue":t[6]||(t[6]=e=>i.user.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.user.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.user.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(r,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const gt={name:"User",data(){return{roles:["INSCRIPCION","ACREDITACION","REFRIGERIO","ADMINISTRADOR"],showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",users:[],user:{},loading:!1,userCrear:!0,userColums:[{name:"option",field:"option",label:"Opciones",align:"left",sortable:!0},{name:"role",field:"role",label:"Rol",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0},{name:"email",label:"Email",field:"email",align:"left",sortable:!0}]}},methods:{userUpdate(){this.loading=!0,this.$api.put(`user/${this.user.id}`,this.user).then((e=>{this.loading=!1,this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Usuario actualizado"}),this.user={},this.usersGet()})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar usuario"})}))},usersGet(){this.$q.loading.show(),this.$api.get("user").then((e=>{this.users=e.data,this.$q.loading.hide()}))},userCreate(){this.userCrear?(this.loading=!0,this.$api.post("user",this.user).then((e=>{console.log(e.data),this.usersGet(),this.showAddUserDialog=!1,this.user={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))):(this.loading=!0,this.$api.put("user/"+this.user.id,this.user).then((e=>{this.usersGet(),this.showAddUserDialog=!1,this.user={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},userEdit(e){this.user=e,this.userCrear=!1,this.showUpdateUserDialog=!0},updatePassword(e){this.$q.dialog({title:"Cambiar contraseña",message:"Ingrese la nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.put(`updatePassword/${e.id}`,{password:t}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"Contraseña actualizada"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"error",position:"top",message:e.response.data.message})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},userDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el usuario?",ok:"Si",cancel:"No"}).onOk((()=>{this.$q.loading.show(),this.$api.delete("user/"+e.id).then((e=>{this.usersGet()}))}))}},created(){this.usersGet()}};var ft=a(4356),wt=a(7220),bt=a(7887);const _t=(0,d.Z)(gt,[["render",pt]]),qt=_t;J()(gt,"components",{QPage:be.Z,QTable:ft.Z,QToolbar:S.Z,QBtn:Q.Z,QInput:P.Z,QTd:wt.Z,QBadge:z.Z,QDialog:rt.Z,QCard:_e.Z,QCardSection:qe.Z,QForm:Re.Z,QSelect:bt.Z});const yt={class:"row q-pa-lg"},vt={class:"col-12 col-sm-6"},Ct={class:"col-12 col-sm-6"},Wt={class:"col-12 col-sm-6"},kt={class:"col-12 col-sm-6"},xt={class:"col-12 col-sm-6"},Ut={class:"col-12 col-sm-6"},Vt={class:"col-12 col-sm-6"},Dt={class:"col-12 col-sm-6"},$t={class:"col-12 flex flex-center"},Zt={class:"col-12 q-pt-md"};function At(e,t,a,l,i,n){const r=(0,s.up)("q-input"),d=(0,s.up)("q-uploader"),u=(0,s.up)("q-btn"),c=(0,s.up)("q-form"),m=(0,s.up)("q-card-section"),h=(0,s.up)("q-card"),p=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{onSubmit:(0,o.iM)(n.userSave,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",yt,[(0,s._)("div",vt,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.store.user.name=e),label:"Nombre completo",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Ct,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>i.store.user.email=e),label:"Correo",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Wt,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.filosofia,"onUpdate:modelValue":t[2]||(t[2]=e=>i.store.user.filosofia=e),label:"Filosofía",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",kt,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.ensenanza,"onUpdate:modelValue":t[3]||(t[3]=e=>i.store.user.ensenanza=e),label:"Enseñanza",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",xt,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.estrategia,"onUpdate:modelValue":t[4]||(t[4]=e=>i.store.user.estrategia=e),label:"Estrategia",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Ut,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.objeto,"onUpdate:modelValue":t[5]||(t[5]=e=>i.store.user.objeto=e),label:"Objetivo",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Vt,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.metodologia,"onUpdate:modelValue":t[6]||(t[6]=e=>i.store.user.metodologia=e),label:"Metodología",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Dt,[(0,s.Wm)(r,{dense:"",outlined:"",modelValue:i.store.user.curriculum,"onUpdate:modelValue":t[7]||(t[7]=e=>i.store.user.curriculum=e),label:"Curriculum",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",$t,[(0,s.Wm)(d,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",Zt,[(0,s.Wm)(u,{loading:i.loading,class:"full-width",type:"submit",color:"primary","no-caps":"",icon:"add_circle_outline",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})}const Et={name:"Datos",data(){return{store:(0,D.A)(),foto:"",loading:!1}},methods:{uploadFile(e){this.loading=!0;let t=this.$q.dialog({message:"Subiendo... 0%"}),a=0;const o=new FormData;return o.append("file",e[0]),new Promise(((l,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{a=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${a}%`}),a>=100&&t.hide()}}).then((t=>{this.foto=t.data,this.loading=!1,l(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},userSave(){if(""==this.foto)return this.$q.notify({type:"negative",message:"Debe subir una foto",position:"top"}),!1;this.store.user.foto=this.foto,this.$api.put("user/"+this.store.user.id,this.store.user).then((e=>{console.log(e.data),this.$q.notify({type:"positive",message:"Usuario guardado",position:"top"})})).catch((e=>{this.$q.notify({type:"negative",message:"Error al guardar usuario",position:"top"})}))}}},St=(0,d.Z)(Et,[["render",At]]),Qt=St;J()(Et,"components",{QPage:be.Z,QCard:_e.Z,QCardSection:qe.Z,QForm:Re.Z,QInput:P.Z,QUploader:dt.Z,QBtn:Q.Z});const It={class:"text-h6"},Pt=(0,s._)("div",{class:"text-h6"},"Agregar Estudiante",-1);function Ot(e,t,a,l,i,n){const r=(0,s.up)("q-btn"),d=(0,s.up)("q-input"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-td"),m=(0,s.up)("q-table"),h=(0,s.up)("q-card-section"),p=(0,s.up)("q-form"),g=(0,s.up)("q-card"),w=(0,s.up)("q-dialog"),b=(0,s.up)("q-select"),_=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{rows:i.students,columns:i.studentColums,filter:i.search},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"add_circle_outline",color:"primary",label:"Crear Esudiante","no-caps":"",onClick:n.studentClickCreate},null,8,["onClick"]),(0,s.Wm)(d,{modelValue:i.search,"onUpdate:modelValue":t[0]||(t[0]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",dense:"",icon:"o_edit",onClick:t=>n.studentEdit(e.row)},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",dense:"",icon:"o_delete",onClick:t=>n.studentDelete(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(w,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s._)("div",It,(0,f.zw)(i.studentCrear?"Crear":"Actualizar")+" Estudiante",1)])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,o.iM)(n.studentCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.student.name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.student.name=e),hint:"",dense:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.last,"onUpdate:modelValue":t[2]||(t[2]=e=>i.student.last=e),hint:"",dense:"",required:"",outlined:"",label:"Apellido"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.code,"onUpdate:modelValue":t[3]||(t[3]=e=>i.student.code=e),hint:"",dense:"",required:"",outlined:"",label:"Código",type:"number"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>i.student.phone=e),hint:"",dense:"",required:"",outlined:"",label:"Teléfono",type:"number"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.birthday,"onUpdate:modelValue":t[5]||(t[5]=e=>i.student.birthday=e),hint:"",dense:"",required:"",outlined:"",label:"Fecha de Nacimiento",type:"date"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.email,"onUpdate:modelValue":t[6]||(t[6]=e=>i.student.email=e),hint:"",dense:"",required:"",outlined:"",label:"Correo",type:"email"},null,8,["modelValue"]),(0,s.Wm)(r,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:i.studentCrear?"Crear":"Actualizar",class:"full-width"},null,8,["loading","label"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:i.showUpdateUserDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.showUpdateUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center"},{default:(0,s.w5)((()=>[Pt])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,o.iM)(n.studentUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.student.name,"onUpdate:modelValue":t[8]||(t[8]=e=>i.student.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.email,"onUpdate:modelValue":t[9]||(t[9]=e=>i.student.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(b,{modelValue:i.student.role,"onUpdate:modelValue":t[10]||(t[10]=e=>i.student.role=e),hint:"",required:"",outlined:"",label:"Rol",options:i.roles},null,8,["modelValue","options"]),(0,s.Wm)(r,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const zt={name:"User",data(){return{store:(0,D.A)(),roles:["INSCRIPCION","ACREDITACION","REFRIGERIO","ADMINISTRADOR"],showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",students:[],student:{},loading:!1,studentCrear:!0,studentColums:[{name:"option",field:"option",label:"Opciones",align:"left",sortable:!0},{name:"name",label:"Nombre",field:e=>e.name+" "+e.last,align:"left",sortable:!0},{name:"email",label:"Email",field:"email",align:"left",sortable:!0},{name:"code",label:"Código",field:"code",align:"left",sortable:!0},{name:"phone",label:"Teléfono",field:"phone",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0}]}},methods:{studentUpdate(){this.loading=!0,this.$api.put(`student/${this.student.id}`,this.student).then((e=>{this.loading=!1,this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Estudiante actualizado"}),this.student={},this.studentsGet()})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar usuario"})}))},studentsGet(){this.$q.loading.show(),this.$api.get("student").then((e=>{this.students=e.data,this.$q.loading.hide()}))},studentCreate(){this.studentCrear?(this.loading=!0,this.student.user_id=this.store.user.id,this.$api.post("student",this.student).then((e=>{this.studentsGet(),this.showAddUserDialog=!1,this.student={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))):(this.loading=!0,this.$api.put("student/"+this.student.id,this.student).then((e=>{this.studentsGet(),this.showAddUserDialog=!1,this.student={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},studentClickCreate(){this.studentCrear=!0,this.showAddUserDialog=!0,this.student={name:"",last:"",code:"",birthday:$.ZP.formatDate(new Date,"YYYY-MM-DD"),email:""}},studentEdit(e){this.student=e,this.studentCrear=!1,this.showAddUserDialog=!0},studentDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el usuario?",ok:"Si",cancel:"No"}).onOk((()=>{this.$q.loading.show(),this.$api.delete("student/"+e.id).then((e=>{this.studentsGet()}))}))}},created(){this.studentsGet()}},Mt=(0,d.Z)(zt,[["render",Ot]]),jt=Mt;J()(zt,"components",{QPage:be.Z,QTable:ft.Z,QToolbar:S.Z,QBtn:Q.Z,QInput:P.Z,QTd:wt.Z,QDialog:rt.Z,QCard:_e.Z,QCardSection:qe.Z,QForm:Re.Z,QSelect:bt.Z});const Nt={class:"text-bold"},Rt=(0,s._)("div",{class:"text-h6"},"Registrar Estudiante",-1),Tt=(0,s._)("div",{class:"text-h6"},"Nota Estudiante",-1),Gt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"text-left"},"N"),(0,s._)("th",{class:"text-left"},"Nombre"),(0,s._)("th",{class:"text-right"},"Nota")])],-1),Lt={class:"text-left"},Bt={class:"text-left"},Ft={class:"text-right"};function Yt(e,t,a,l,i,n){const r=(0,s.up)("q-select"),d=(0,s.up)("q-btn"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-input"),m=(0,s.up)("q-td"),h=(0,s.up)("q-table"),p=(0,s.up)("q-card-section"),g=(0,s.up)("q-form"),w=(0,s.up)("q-card"),b=(0,s.up)("q-dialog"),_=(0,s.up)("q-markup-table"),q=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{rows:i.records,columns:i.studentColums,filter:i.search},{"top-left":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",outlined:"",options:i.materias,modelValue:i.materia,"onUpdate:modelValue":t[0]||(t[0]=e=>i.materia=e),loading:i.loading,label:"Materia"},null,8,["options","modelValue","loading"]),(0,s.Wm)(d,{icon:"search",color:"primary",label:"Consultar","no-caps":"",onClick:n.recordGet,loading:i.loading},null,8,["onClick","loading"])])),_:1})])),"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{icon:"add_circle_outline",color:"primary",label:"Registrar Notas",loading:i.loading,"no-caps":"",onClick:n.noteClickCreate},null,8,["loading","onClick"]),(0,s.Wm)(d,{icon:"add_circle_outline",color:"primary",label:"Registrar Estudiante",loading:i.loading,"no-caps":"",onClick:n.studentClickCreate},null,8,["loading","onClick"]),(0,s.Wm)(c,{modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",dense:"",icon:"o_delete",onClick:t=>n.studentDelete(e.row)},null,8,["onClick"]),(0,s.Uk)(),(0,s._)("span",Nt,(0,f.zw)(e.pageIndex+1),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(b,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Rt])),_:1}),(0,s.Wm)(p,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,o.iM)(n.studentCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",outlined:"",options:i.students,modelValue:i.student,"onUpdate:modelValue":t[2]||(t[2]=e=>i.student=e),label:"Estudiante"},null,8,["options","modelValue"]),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Agregar estudiante",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(b,{modelValue:i.noteDialogShow,"onUpdate:modelValue":t[5]||(t[5]=e=>i.noteDialogShow=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Tt])),_:1}),(0,s.Wm)(p,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,o.iM)(n.noteCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:i.descripcion,"onUpdate:modelValue":t[4]||(t[4]=e=>i.descripcion=e),label:"Descripción",required:""},null,8,["modelValue"]),(0,s.Wm)(_,{dense:""},{default:(0,s.w5)((()=>[Gt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.records,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",Lt,(0,f.zw)(t+1),1),(0,s._)("td",Bt,(0,f.zw)(e.student.name)+" "+(0,f.zw)(e.student.last),1),(0,s._)("td",Ft,[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:e.note,"onUpdate:modelValue":t=>e.note=t,type:"number",min:"0",max:"20",required:""},null,8,["modelValue","onUpdate:modelValue"])])])))),128))])])),_:1}),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Crear notas",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Ht={name:"Note",data(){return{store:(0,D.A)(),materias:[],descripcion:"",materia:{},noteDialogShow:!1,showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",students:[],student:{},records:[],record:{},loading:!1,studentCrear:!0,studentColums:[]}},methods:{noteCreate(){this.loading=!0,this.records.forEach((e=>{e.record_id=e.id,e.students_id=e.student.id,e.materia_id=this.materia.id})),this.$api.post("note",{description:this.descripcion,records:this.records}).then((e=>{this.recordGet(),this.loading=!1,this.$q.notify({color:"positive",message:"Notas registradas",icon:"check_circle",position:"top"}),this.noteDialogShow=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:"Error al registrar notas",icon:"warning",position:"top"})}))},recordGet(){this.loading=!0,this.$api.get(`record/${this.materia.id}`).then((e=>{this.records=e.data,this.loading=!1,this.studentColums=[{name:"option",field:"option",label:"Opciones",align:"left"},{name:"name",label:"Nombre",field:e=>e.student.name+" "+e.student.last,align:"left",sortable:!0}],this.records.length>0&&this.records[0].notes.forEach((e=>{this.studentColums.push({name:e.description,label:e.description,field:t=>t.notes.find((t=>t.description===e.description)).note,align:"left",sortable:!0})})),this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Estudiantes actualizado"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar estudiantes"})}))},studentCreate(){let e=this.records.find((e=>e.student.id===this.student.id));e?this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"El estudiante ya se encuentra registrado"}):(this.loading=!0,this.$api.post("record",{student_id:this.student.id,materia_id:this.materia.id}).then((e=>{this.recordGet(),this.showAddUserDialog=!1,this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},noteClickCreate(){this.records.forEach((e=>{e.note=0})),this.noteDialogShow=!0},studentClickCreate(){this.studentCrear=!0,this.showAddUserDialog=!0},studentEdit(e){this.student=e,this.studentCrear=!1,this.showAddUserDialog=!0},studentDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el estudiante?",ok:"Si",cancel:"No"}).onOk((()=>{this.$api.delete("record/"+e.id).then((e=>{this.recordGet()}))}))}},created(){this.$api.get("materia").then((e=>{e.data.forEach((e=>{e.label=e.nombre,this.materias.push(e)})),this.materia=this.materias[0]})),this.$api.get("student").then((e=>{e.data.forEach((e=>{e.label=e.name+" "+e.last,this.students.push(e)})),this.student=this.students[0],this.recordGet()}))}};var Jt=a(6933);const Kt=(0,d.Z)(Ht,[["render",Yt]]),Xt=Kt;J()(Ht,"components",{QPage:be.Z,QTable:ft.Z,QToolbar:S.Z,QSelect:bt.Z,QBtn:Q.Z,QInput:P.Z,QTd:wt.Z,QDialog:rt.Z,QCard:_e.Z,QCardSection:qe.Z,QForm:Re.Z,QMarkupTable:Jt.Z});const ea={class:"text-bold"},ta=(0,s._)("div",{class:"text-h6"},"Registrar Estudiante",-1),aa=(0,s._)("div",{class:"text-h6"},"Asistencia Estudiante",-1),oa=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"text-left"},"N"),(0,s._)("th",{class:"text-left"},"Nombre"),(0,s._)("th",{class:"text-right"},"Nota")])],-1),la={class:"text-left"},ia={class:"text-left"},sa={class:"text-right"};function na(e,t,a,l,i,n){const r=(0,s.up)("q-select"),d=(0,s.up)("q-btn"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-input"),m=(0,s.up)("q-td"),h=(0,s.up)("q-table"),p=(0,s.up)("q-card-section"),g=(0,s.up)("q-form"),w=(0,s.up)("q-card"),b=(0,s.up)("q-dialog"),_=(0,s.up)("q-markup-table"),q=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{rows:i.records,columns:i.studentColums,filter:i.search},{"top-left":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",outlined:"",options:i.materias,modelValue:i.materia,"onUpdate:modelValue":t[0]||(t[0]=e=>i.materia=e),loading:i.loading,label:"Materia"},null,8,["options","modelValue","loading"]),(0,s.Wm)(d,{icon:"search",color:"primary",label:"Consultar","no-caps":"",onClick:n.recordGet,loading:i.loading},null,8,["onClick","loading"])])),_:1})])),"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{icon:"add_circle_outline",color:"primary",label:"Registrar Asistencia",loading:i.loading,"no-caps":"",onClick:n.noteClickCreate},null,8,["loading","onClick"]),(0,s.Wm)(c,{modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",dense:"",icon:"o_delete",onClick:t=>n.studentDelete(e.row)},null,8,["onClick"]),(0,s.Uk)(),(0,s._)("span",ea,(0,f.zw)(e.pageIndex+1),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Uk)("q "),(0,s.Wm)(b,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[ta])),_:1}),(0,s.Wm)(p,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,o.iM)(n.studentCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",outlined:"",options:i.students,modelValue:i.student,"onUpdate:modelValue":t[2]||(t[2]=e=>i.student=e),label:"Estudiante"},null,8,["options","modelValue"]),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Agregar estudiante",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(b,{modelValue:i.noteDialogShow,"onUpdate:modelValue":t[5]||(t[5]=e=>i.noteDialogShow=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[aa])),_:1}),(0,s.Wm)(p,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,o.iM)(n.noteCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:i.fecha,"onUpdate:modelValue":t[4]||(t[4]=e=>i.fecha=e),label:"Fecha",type:"date"},null,8,["modelValue"]),(0,s.Wm)(_,{dense:""},{default:(0,s.w5)((()=>[oa,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.records,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",la,(0,f.zw)(t+1),1),(0,s._)("td",ia,(0,f.zw)(e.student.name)+" "+(0,f.zw)(e.student.last),1),(0,s._)("td",sa,[(0,s.Wm)(r,{dense:"",outlined:"",options:i.asistencias,modelValue:e.asistencia,"onUpdate:modelValue":t=>e.asistencia=t,label:"Asistencia"},null,8,["options","modelValue","onUpdate:modelValue"])])])))),128))])])),_:1}),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Crear Asistencia",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const ra={name:"Asistencia",data(){return{store:(0,D.A)(),materias:[],descripcion:"",materia:{},asistencias:["Presente","Falta","Retardo","Falta Justificada","Retardo Justificado","Expulsión"],fecha:$.ZP.formatDate(new Date,"YYYY-MM-DD"),noteDialogShow:!1,showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",students:[],student:{},records:[],record:{},loading:!1,studentCrear:!0,studentColums:[]}},methods:{noteCreate(){this.loading=!0,this.records.forEach((e=>{e.record_id=e.id,e.students_id=e.student.id,e.materia_id=this.materia.id})),this.$api.post("attendance",{description:this.descripcion,records:this.records}).then((e=>{this.recordGet(),this.loading=!1,this.$q.notify({color:"positive",message:"Notas registradas",icon:"check_circle",position:"top"}),this.noteDialogShow=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:"Error al registrar asistencia",icon:"warning",position:"top"})}))},recordGet(){this.loading=!0,this.$api.get(`record/${this.materia.id}`).then((e=>{this.records=e.data,this.loading=!1,this.studentColums=[{name:"option",field:"option",label:"Opciones",align:"left"},{name:"name",label:"Nombre",field:e=>e.student.name+" "+e.student.last,align:"left",sortable:!0}],this.records.length>0&&this.records[0].attendance.forEach((e=>{this.studentColums.push({name:e.date,label:e.date,field:t=>t.attendance.find((t=>t.date===e.date)).status,align:"left",sortable:!0})})),this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Estudiantes actualizado"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar estudiantes"})}))},studentCreate(){let e=this.records.find((e=>e.student.id===this.student.id));e?this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"El estudiante ya se encuentra registrado"}):(this.loading=!0,this.$api.post("record",{student_id:this.student.id,materia_id:this.materia.id}).then((e=>{this.recordGet(),this.showAddUserDialog=!1,this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},noteClickCreate(){this.records.forEach((e=>{e.asistencia="Presente"})),this.noteDialogShow=!0},studentClickCreate(){this.studentCrear=!0,this.showAddUserDialog=!0},studentEdit(e){this.student=e,this.studentCrear=!1,this.showAddUserDialog=!0},studentDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el estudiante?",ok:"Si",cancel:"No"}).onOk((()=>{this.$api.delete("record/"+e.id).then((e=>{this.recordGet()}))}))}},created(){this.$api.get("materia").then((e=>{e.data.forEach((e=>{e.label=e.nombre,this.materias.push(e)})),this.materia=this.materias[0]})),this.$api.get("student").then((e=>{e.data.forEach((e=>{e.label=e.name+" "+e.last,this.students.push(e)})),this.student=this.students[0],this.recordGet()}))}},da=(0,d.Z)(ra,[["render",na]]),ua=da;J()(ra,"components",{QPage:be.Z,QTable:ft.Z,QToolbar:S.Z,QSelect:bt.Z,QBtn:Q.Z,QInput:P.Z,QTd:wt.Z,QDialog:rt.Z,QCard:_e.Z,QCardSection:qe.Z,QForm:Re.Z,QMarkupTable:Jt.Z});const ca=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-12"},[(0,s._)("div",{class:"bg-primary text-h5 text-bold text-white text-uppercase text-center"},"Horario Docente")])],-1),ma=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"text-bold text-subtitle2 bg-primary text-white q-pa-none q-ma-none",style:{width:"5%"}},"Horarios"),(0,s._)("th",{class:"text-bold text-subtitle2 bg-primary text-white q-pa-none q-ma-none"},"Lunes"),(0,s._)("th",{class:"text-bold text-subtitle2 bg-primary text-white q-pa-none q-ma-none"},"Martes"),(0,s._)("th",{class:"text-bold text-subtitle2 bg-primary text-white q-pa-none q-ma-none"},"Miercoles"),(0,s._)("th",{class:"text-bold text-subtitle2 bg-primary text-white q-pa-none q-ma-none"},"Jueves"),(0,s._)("th",{class:"text-bold text-subtitle2 bg-primary text-white q-pa-none q-ma-none"},"Viernes"),(0,s._)("th",{class:"text-bold text-subtitle2 bg-primary text-white q-pa-none q-ma-none"},"Sabado")])],-1),ha={class:"text-bold text-subtitle2 bg-primary text-white"},pa=["onClick"],ga=["onClick"],fa=["onClick"],wa=["onClick"],ba=["onClick"],_a=["onClick"];function qa(e,t,a,o,l,i){const n=(0,s.up)("q-markup-table"),r=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(r,null,{default:(0,s.w5)((()=>[ca,(0,s.Wm)(n,{separator:"cell",flat:"",bordered:""},{default:(0,s.w5)((()=>[ma,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.schedules,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",ha,(0,f.zw)(e),1),(0,s._)("td",{class:"text-center text-bold",onClick:t=>i.scheduleClick(e,"LUNES")},(0,f.zw)(i.horario(e,"LUNES")),9,pa),(0,s._)("td",{class:"text-center text-bold",onClick:t=>i.scheduleClick(e,"MARTES")},(0,f.zw)(i.horario(e,"MARTES")),9,ga),(0,s._)("td",{class:"text-center text-bold",onClick:t=>i.scheduleClick(e,"MIERCOLES")},(0,f.zw)(i.horario(e,"MIERCOLES")),9,fa),(0,s._)("td",{class:"text-center text-bold",onClick:t=>i.scheduleClick(e,"JUEVES")},(0,f.zw)(i.horario(e,"JUEVES")),9,wa),(0,s._)("td",{class:"text-center text-bold",onClick:t=>i.scheduleClick(e,"VIERNES")},(0,f.zw)(i.horario(e,"VIERNES")),9,ba),(0,s._)("td",{class:"text-center text-bold",onClick:t=>i.scheduleClick(e,"SABADO")},(0,f.zw)(i.horario(e,"SABADO")),9,_a)])))),128))])])),_:1}),(0,s._)("pre",null,(0,f.zw)(l.scheduleData),1)])),_:1})}const ya={name:"Schedule",data(){return{schedules:["6:00-7:00 AM","7:00-8:00 AM","8:00-9:00 AM","9:00-10:00 AM","10:00-11:00 AM","11:00-12:00 PM","12:00-1:00 PM","1:00-2:00 PM","2:00-3:00 PM","3:00-4:00 PM","4:00-5:00 PM","5:00-6:00 PM","6:00-7:00 PM","7:00-8:00 PM","8:00-9:00 PM","9:00-10:00 PM","10:00-11:00 PM","11:00-12:00 AM"],scheduleShow:!1,scheduleData:[],store:(0,D.A)()}},created(){this.getSchedule()},methods:{getSchedule(){this.$api.get("schedule").then((e=>{this.scheduleData=e.data}))},scheduleClick(e,t){this.$q.dialog({title:"Horario",message:`Hora: ${e} Dia: ${t}`,ok:"Aceptar",cancel:"Cancelar",prompt:{model:this.horario(e,t),hint:"Ingrese el nombre de la materia"}}).onOk((a=>{this.$api.post("schedule",{hora:e,dia:t,materia:a,user_id:this.store.user.id}).then((e=>{this.getSchedule()}))}))},horario(e,t){let a=this.scheduleData.filter((a=>a.hora===e&&a.dia===t));return a.length>0?a[0].materia:""}}},va=(0,d.Z)(ya,[["render",qa]]),Ca=va;J()(ya,"components",{QPage:be.Z,QMarkupTable:Jt.Z});const Wa=[{path:"/",component:X,children:[{path:"",component:ve,meta:{requiresAuth:!0}},{path:"portafolio",component:ct,meta:{requiresAuth:!0}},{path:"user",component:qt,meta:{requiresAuth:!0}},{path:"datos",component:Qt,meta:{requiresAuth:!0}},{path:"student",component:jt,meta:{requiresAuth:!0}},{path:"note",component:Xt,meta:{requiresAuth:!0}},{path:"asistencia",component:ua,meta:{requiresAuth:!0}},{path:"schedule",component:Ca,meta:{requiresAuth:!0}}]},{path:"/login",component:Le},{path:"/:catchAll(.*)*",component:()=>a.e(862).then(a.bind(a,1862))}],ka=Wa,xa=(0,m.BC)((function(){const e=g.r5,t=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:ka,history:e("")});return t.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,D.A)().isLoggedIn)return void a();a("/login")}else a()})),t}));async function Ua(e,t){const a=e(c);a.use(l.Z,t);const o="function"===typeof p?await p({}):p;a.use(o);const s=(0,i.Xl)("function"===typeof xa?await xa({store:o}):xa);return o.use((({store:e})=>{e.router=s})),{app:a,store:o,router:s}}var Va=a(8934),Da=a(6827),$a=a(7975),Za=a(6950);const Aa={config:{},lang:Va.Z,plugins:{Notify:Da.Z,Dialog:$a.Z,Loading:Za.Z}};var Ea=a(368);(0,Ea.z)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&a.e(736).then(a.t.bind(a,4848,23));const Sa="";async function Qa({app:e,router:t,store:a},o){let l=!1;const i=e=>{try{return t.resolve(e).href}catch(a){}return Object(e)===e?null:e},s=e=>{if(l=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=i(e);null!==t&&(window.location.href=t,window.location.reload())},n=window.location.href.replace(window.location.origin,"");for(let d=0;!1===l&&d<o.length;d++)try{await o[d]({app:e,router:t,store:a,ssrContext:null,redirect:s,urlPath:n,publicPath:Sa})}catch(r){return r&&r.url?void s(r.url):void console.error("[Quasar] boot error:",r)}!0!==l&&(e.use(t),e.mount("#q-app"))}Ua(o.ri,Aa).then((e=>{const[t,o]=void 0!==Promise.allSettled?["allSettled",e=>e.map((e=>{if("rejected"!==e.status)return e.value.default;console.error("[Quasar] boot error:",e.reason)}))]:["all",e=>e.map((e=>e.default))];return Promise[t]([Promise.resolve().then(a.bind(a,1569))]).then((t=>{const a=o(t).filter((e=>"function"===typeof e));Qa(e,a)}))}))},1569:(e,t,a)=>{a.r(t),a.d(t,{api:()=>n,default:()=>r});a(9665);var o=a(3340),l=a(9981),i=a.n(l),s=a(7292);const n=i().create({baseURL:"https://bportafolio.siscenter.org/api/"}),r=(0,o.xr)((({app:e,router:t})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=n;const a=localStorage.getItem("tokenPort");a&&(e.config.globalProperties.$api.defaults.headers.common["Authorization"]="Bearer "+a,e.config.globalProperties.$api.post("me").then((e=>{(0,s.A)().user=e.data,(0,s.A)().isLoggedIn=!0})).catch((a=>{e.config.globalProperties.$api.defaults.headers.common["Authorization"]="",(0,s.A)().user={},localStorage.removeItem("tokenPort"),(0,s.A)().isLoggedIn=!1,t.push("/login")})))}))},7292:(e,t,a)=>{a.d(t,{A:()=>l});var o=a(1809);const l=(0,o.Q_)("counter",{state:()=>({user:{},isLoggedIn:!!localStorage.getItem("tokenPort")}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})}},t={};function a(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,o,l,i)=>{if(!o){var s=1/0;for(u=0;u<e.length;u++){for(var[o,l,i]=e[u],n=!0,r=0;r<o.length;r++)(!1&i||s>=i)&&Object.keys(a.O).every((e=>a.O[e](o[r])))?o.splice(r--,1):(n=!1,i<s&&(s=i));if(n){e.splice(u--,1);var d=l();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,l,i]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(o,l){if(1&l&&(o=this(o)),8&l)return o;if("object"===typeof o&&o){if(4&l&&o.__esModule)return o;if(16&l&&"function"===typeof o.then)return o}var i=Object.create(null);a.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&l&&o;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>o[e]));return s["default"]=()=>o,a.d(i,s),i}})(),(()=>{a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,o)=>(a.f[o](e,t),t)),[]))})(),(()=>{a.u=e=>"js/"+e+".6bce0d26.js"})(),(()=>{a.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"61aef7f7",736:"4cde08dd"}[e]+".css"})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="front:";a.l=(o,l,i,s)=>{if(e[o])e[o].push(l);else{var n,r;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==t+i){n=c;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+i),n.src=o),e[o]=[l];var m=(t,a)=>{n.onerror=n.onload=null,clearTimeout(h);var l=e[o];if(delete e[o],n.parentNode&&n.parentNode.removeChild(n),l&&l.forEach((e=>e(a))),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p=""})(),(()=>{var e={143:0};a.f.j=(t,o)=>{var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)o.push(l[2]);else{var i=new Promise(((a,o)=>l=e[t]=[a,o]));o.push(l[2]=i);var s=a.p+a.u(t),n=new Error,r=o=>{if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",n.name="ChunkLoadError",n.type=i,n.request=s,l[1](n)}};a.l(s,r,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,o)=>{var l,i,[s,n,r]=o,d=0;if(s.some((t=>0!==e[t]))){for(l in n)a.o(n,l)&&(a.m[l]=n[l]);if(r)var u=r(a)}for(t&&t(o);d<s.length;d++)i=s[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},o=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=a.O(void 0,[736],(()=>a(3795)));o=a.O(o)})();