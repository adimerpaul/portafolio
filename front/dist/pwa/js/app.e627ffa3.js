(()=>{"use strict";var e={7343:(e,t,o)=>{o(702),o(8964);var a=o(1957),l=o(1947),i=o(499),s=o(9835);function r(e,t,o,a,l,i){const r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(r)}const n=(0,s.aZ)({name:"App"});var d=o(1639);const u=(0,d.Z)(n,[["render",r]]),c=u;var m=o(3340),p=o(1809);const h=(0,m.h)((()=>{const e=(0,p.WB)();return e}));var g=o(8339),f=o(6970);const w={key:0},_={class:"row q-pt-xs"},b={class:"col-8"},v={class:"col-2 flex flex-center"},q={class:"col-2 flex flex-center"},y=["src"],W={class:"row"},C={class:"col-3 flex flex-center"},k={class:"col-9"},x=(0,s._)("div",{class:"text-h6 text-bold"},"Portafolio",-1),V={class:"text-caption"};function U(e,t,o,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-toolbar-title"),d=(0,s.up)("q-icon"),u=(0,s.up)("q-input"),c=(0,s.up)("q-badge"),m=(0,s.up)("q-avatar"),p=(0,s.up)("q-item-section"),h=(0,s.up)("q-item"),g=(0,s.up)("q-separator"),U=(0,s.up)("q-list"),D=(0,s.up)("q-menu"),$=(0,s.up)("q-toolbar"),Z=(0,s.up)("q-header"),Q=(0,s.up)("q-item-label"),A=(0,s.up)("q-drawer"),E=(0,s.up)("router-view"),S=(0,s.up)("q-page-container"),I=(0,s.up)("q-layout"),P=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(I,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",dense:"",round:"",color:"primary",icon:"menu","aria-label":"Menu",onClick:i.toggleLeftDrawer},null,8,["onClick"]),(0,s.Wm)(n,{class:"text-bold text-primary"},{default:(0,s.w5)((()=>[e.$q.screen.lt.md?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",w,(0,f.zw)(l.store.user.name),1))])),_:1}),(0,s._)("div",_,[(0,s._)("div",b,[(0,s.Wm)(u,{dense:"",rounded:"",outlined:"",modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=e=>l.search=e),placeholder:"Buscar"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])]),(0,s._)("div",v,[(0,s.Wm)(r,{flat:"",dense:"",round:"",color:"primary",icon:"o_notifications","aria-label":"Notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{color:"primary",floating:"",transparent:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" 4 ")])),_:1})])),_:1})]),(0,s._)("div",q,[(0,s.Wm)(r,{round:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{size:"38px"},{default:(0,s.w5)((()=>[void 0!=l.store.user.foto?((0,s.wg)(),(0,s.iD)("img",{key:0,src:l.url+"../imagenes/"+l.store.user.foto},null,8,y)):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(U,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",to:"/datos"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{color:"primary",name:"perm_contact_calendar"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(l.store.user.name),1)])),_:1})])),_:1})),[[P]]),(0,s.Wm)(g),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",onClick:i.logout},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{color:"primary",name:"logout"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Salir")])),_:1})])),_:1},8,["onClick"])),[[P]])])),_:1})])),_:1})])),_:1})])])])),_:1})])),_:1}),(0,s.Wm)(A,{modelValue:l.leftDrawerOpen,"onUpdate:modelValue":t[1]||(t[1]=e=>l.leftDrawerOpen=e),"show-if-above":"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",W,[(0,s._)("div",C,[(0,s.Wm)(d,{color:"primary",size:"48px",name:"o_inventory_2"})]),(0,s._)("div",k,[x,(0,s._)("div",V,[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Virtual")])),_:1}),(0,s.Uk)(" 1.48.5 ")])])])])),_:1}),(0,s.Wm)(g),(0,s.Wm)($,{class:"bg-primary text-white shadow-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Opciones")])),_:1})])),_:1}),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",to:"/",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_home"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Principal")])),_:1}),(0,s.Wm)(Q,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Inicio")])),_:1})])),_:1})])),_:1})),[[P]]),1==l.store.user.id?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:0,clickable:"",to:"/user",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_people"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Usuarios")])),_:1}),(0,s.Wm)(Q,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Control de usuarios")])),_:1})])),_:1})])),_:1})),[[P]]):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",to:"/portafolio",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_description"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Portafolio digital")])),_:1}),(0,s.Wm)(Q,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Docente")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",to:"/datos",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"o_face"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Mis datos")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",to:"/student",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"people"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Estudiantes")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",to:"/note",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"verified"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Notas")])),_:1})])),_:1})])),_:1})),[[P]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",to:"/asistencia",exact:"","active-class":"bg-blue-grey-6  text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"checklist"})])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Asistencia")])),_:1})])),_:1})])),_:1})),[[P]])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(E)])),_:1})])),_:1})}o(9665);var D=o(7292),$=o(4376);const Z={name:"MainLayout",data(){return{loading:!1,url:"https://bportafolio.siscenter.org/api/",leftDrawerOpen:!1,search:"",store:(0,D.A)(),menu:!1,message:""}},created(){},methods:{reload(){this.$q.dialog({title:"Actualizar",message:"¿Desea actualizar la información?",cancel:!0,persistent:!0}).onOk((()=>{window.location.href=window.location.href,window.location.replace(window.location.href)}))},logout(){this.$q.dialog({message:"¿Quieres cerrar sesión?",title:"Salir",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.post("logout").then((e=>{this.$api.defaults.headers.common["Authorization"]="",this.store.user={},this.store.negocio={},this.store.userChat={},localStorage.removeItem("tokenPort"),this.store.isLoggedIn=!1,this.$router.push("/login"),this.$q.loading.hide()}))}))},toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen}}};var Q=o(7605),A=o(6602),E=o(1663),S=o(4455),I=o(1973),P=o(6611),O=o(2857),j=o(990),z=o(1357),N=o(6362),T=o(3246),G=o(490),R=o(1233),M=o(926),L=o(3655),B=o(3115),F=o(2133),Y=o(1136),H=o(9984),J=o.n(H);const K=(0,d.Z)(Z,[["render",U]]),X=K;J()(Z,"components",{QLayout:Q.Z,QHeader:A.Z,QToolbar:E.Z,QBtn:S.Z,QToolbarTitle:I.Z,QInput:P.Z,QIcon:O.Z,QBadge:j.Z,QAvatar:z.Z,QMenu:N.Z,QList:T.Z,QItem:G.Z,QItemSection:R.Z,QSeparator:M.Z,QDrawer:L.Z,QItemLabel:B.Z,QPageContainer:F.Z}),J()(Z,"directives",{Ripple:Y.Z});const ee={class:"row"},te={class:"col-12 col-sm-3 q-pa-md"},oe={class:"text-h6 text-white"},ae={class:"text-h2 text-white"},le={class:"col-12 col-sm-3 q-pa-md"},ie={class:"text-h6 text-white"},se={class:"text-h2 text-white"},re={class:"col-12 col-sm-3 q-pa-md"},ne={class:"text-h6 text-white"},de={class:"text-h2 text-white"},ue={class:"col-12 col-sm-3 q-pa-md"},ce={class:"text-h6 text-white"},me={class:"text-h2 text-white"},pe={class:"col-12 col-sm-3 q-pa-md"},he={class:"text-h6 text-white"},ge={class:"text-h2 text-white"};function fe(e,t,o,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-card-section"),d=(0,s.up)("q-card"),u=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(u,{class:""},{default:(0,s.w5)((()=>[(0,s._)("div",ee,[(0,s._)("div",te,[(0,s.Wm)(d,{class:"bg-green"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",oe,[(0,s.Uk)("Usuarios "),(0,s.Wm)(r,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",ae,(0,f.zw)(l.datos.users),1)])),_:1})])),_:1})]),(0,s._)("div",le,[(0,s.Wm)(d,{class:"bg-red"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",ie,[(0,s.Uk)("Materias "),(0,s.Wm)(r,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",se,(0,f.zw)(l.datos.materias),1)])),_:1})])),_:1})]),(0,s._)("div",re,[(0,s.Wm)(d,{class:"bg-blue"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",ne,[(0,s.Uk)("Semestres "),(0,s.Wm)(r,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",de,(0,f.zw)(l.datos.semestres),1)])),_:1})])),_:1})]),(0,s._)("div",ue,[(0,s.Wm)(d,{class:"bg-info"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",ce,[(0,s.Uk)("Documentos "),(0,s.Wm)(r,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",me,(0,f.zw)(l.datos.documentos),1)])),_:1})])),_:1})]),(0,s._)("div",pe,[(0,s.Wm)(d,{class:"bg-secondary"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",he,[(0,s.Uk)("Registros "),(0,s.Wm)(r,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s._)("div",ge,(0,f.zw)(l.datos.registros),1)])),_:1})])),_:1})])])])),_:1})}const we={data(){return{datos:[]}},created(){this.actualizar()},methods:{actualizar(){this.$q.loading.show(),this.$api.get("totales").then((e=>{this.datos=e.data,this.$q.loading.hide()}))}}};var _e=o(9885),be=o(4458),ve=o(3190);const qe=(0,d.Z)(we,[["render",fe]]),ye=qe;J()(we,"components",{QPage:_e.Z,QCard:be.Z,QCardSection:ve.Z,QBtn:S.Z});const We=e=>((0,s.dD)("data-v-0b3af054"),e=e(),(0,s.Cn)(),e),Ce={class:"row"},ke=We((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1))),xe={class:"col-10 col-sm-4"},Ve=We((()=>(0,s._)("div",{class:"text-subtitle1 text-center q-pt-xs text-grey"},"CUENTA",-1))),Ue=We((()=>(0,s._)("div",{class:"text-h2 text-center q-pa-xs text-black text-bold"},"Tu Cuenta",-1))),De={class:"row"},$e={class:"col-12"},Ze={class:"col-12 q-pt-lg"},Qe={class:"col-12 q-py-xs"},Ae={class:"col-12 q-pt-xs"},Ee=We((()=>(0,s._)("div",{class:"col-12 q-pt-xs"},null,-1))),Se=We((()=>(0,s._)("div",{class:"col-12 text-center q-py-none"},[(0,s._)("a",{href:"",class:"text-blue-8"},"¿Olvidaste tu contraseña?")],-1))),Ie=We((()=>(0,s._)("div",{class:"col-12 text-center q-py-none text-caption"},[(0,s._)("div",{class:"linea"},[(0,s._)("span",null,"O INICIAR SESIÓN CON")])],-1))),Pe={class:"col-12 q-pt-md q-pl-xs"},Oe=We((()=>(0,s._)("div",{class:"text-subtitle1 text-center text-caption q-pt-lg text-grey"},[(0,s.Uk)("AL INICIAR SESIÓN, USTED ACEPTA LOS "),(0,s._)("a",{href:"",class:"text-blue-8"},"TÉRMINOS DEL SERVICIO"),(0,s.Uk)(" Y "),(0,s._)("a",{href:"",class:"text-blue-8"},"LA POLÍTICA DE PRIVACIDAD")],-1))),je=We((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1)));function ze(e,t,o,l,i,r){const n=(0,s.up)("q-input"),d=(0,s.up)("q-icon"),u=(0,s.up)("q-checkbox"),c=(0,s.up)("q-btn"),m=(0,s.up)("q-form"),p=(0,s.up)("q-card-section"),h=(0,s.up)("q-card"),g=(0,s.up)("q-page"),f=(0,s.up)("q-page-container"),w=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(w,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ce,[ke,(0,s._)("div",xe,[Ve,Ue,(0,s.Wm)(h,{flat:"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"q-pa-lg",onSubmit:(0,a.iM)(r.login,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",De,[(0,s._)("div",$e,[(0,s.Wm)(n,{outlined:"",modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),label:"Email",type:"email",required:""},null,8,["modelValue"])]),(0,s._)("div",Ze,[(0,s.Wm)(n,{outlined:"",modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),label:"Contraseña",type:i.typePassword?"password":"text",required:""},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{onClick:t[1]||(t[1]=e=>i.typePassword=!i.typePassword),name:i.typePassword?"visibility":"visibility_off"},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,s._)("div",Qe,[(0,s.Wm)(u,{modelValue:i.remember,"onUpdate:modelValue":t[3]||(t[3]=e=>i.remember=e),class:"grey",label:"Recuérdame",size:"30px"},null,8,["modelValue"])]),(0,s._)("div",Ae,[(0,s.Wm)(c,{size:"22px",loading:i.loading,class:"full-width bold",color:"primary",label:"Iniciar Sesión",type:"submit","no-caps":""},null,8,["loading"])]),Ee,Se,Ie,(0,s._)("div",Pe,[(0,s.Wm)(c,{outline:"",icon:"fa-brands fa-google",color:"primary",class:"full-width"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),Oe]),je])])),_:1})])),_:1})])),_:1})}var Ne=o(6511);const Te={name:"Login",data(){return{email:"",password:"",remember:!1,typePassword:!0,loading:!1,store:(0,D.A)()}},mounted(){this.store.isLoggedIn&&this.$router.push("/")},methods:{useAuthProvider(e,t){const o=t,a=o||Ne.Providers[e];this.$q.loading.show(),this.$Oauth.authenticate(e,a).then((t=>{t.code?this.$api.post("sociallogin/"+e,t).then((e=>{this.$q.loading.hide(),this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenPort",e.data.token)})).catch((e=>{console.log({err:e})})).finally((()=>{this.$q.loading.hide()})):this.$q.loading.hide()})).catch((e=>{console.log(e)})).finally((()=>{}))},login(){this.loading=!0,this.$api.post("login",{email:this.email,password:this.password}).then((e=>{this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenPort",e.data.token)})).catch((e=>{console.log(e),this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1}))}}};var Ge=o(8326),Re=o(1221);const Me=(0,d.Z)(Te,[["render",ze],["__scopeId","data-v-0b3af054"]]),Le=Me;J()(Te,"components",{QLayout:Q.Z,QPageContainer:F.Z,QPage:_e.Z,QCard:be.Z,QCardSection:ve.Z,QForm:Ge.Z,QInput:P.Z,QIcon:O.Z,QCheckbox:Re.Z,QBtn:S.Z});const Be={class:"row"},Fe={class:"col-6 col-sm-3 text-center"},Ye={class:"col-6 col-sm-3 text-center"},He={class:"col-6 col-sm-3 text-center"},Je={class:"col-12 q-pa-xs"},Ke={class:"row items-center"},Xe={key:0},et=["href","onClick"],tt={key:1,class:"text-weight-bold text-primary"},ot=(0,s._)("div",{class:"text-h6"},"Registro",-1);function at(e,t,o,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-icon"),d=(0,s.up)("q-tooltip"),u=(0,s.up)("q-tree"),c=(0,s.up)("q-card-section"),m=(0,s.up)("q-input"),p=(0,s.up)("q-form"),h=(0,s.up)("q-card"),g=(0,s.up)("q-dialog"),w=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s._)("div",Be,[(0,s._)("div",Fe,[(0,s.Wm)(r,{type:"a",outline:"",icon:"add_to_drive",loading:l.loading,color:"primary",label:"Ir a mi Drive",href:"https://drive.google.com/drive/u/0/my-drive",target:"_blank"},null,8,["loading"])]),(0,s._)("div",Ye,[(0,s.Wm)(r,{onClick:i.materiaCreate,loading:l.loading,icon:"o_menu_book",color:"primary",label:"Crear materia"},null,8,["onClick","loading"])]),(0,s._)("div",He,[(0,s.Wm)(r,{outline:"",onClick:i.materiaGet,loading:l.loading,icon:"refresh",color:"primary",label:"Actualizar"},null,8,["onClick","loading"])]),(0,s._)("div",Je,[(0,s.Wm)(u,{nodes:l.materias,"node-key":"nombre","default-expand-all":""},{"default-header":(0,s.w5)((e=>[(0,s._)("div",Ke,[(0,s.Wm)(n,{name:e.node.icon||"share",color:"primary",size:"28px",class:"q-mr-sm"},null,8,["name"]),e.node.url?((0,s.wg)(),(0,s.iD)("div",Xe,[(0,s._)("a",{href:e.node.url,onClick:t=>i.openPage(e.node.url),target:"_blank"},(0,f.zw)(e.node.label),9,et),(0,s.Wm)(r,{flat:"",dense:"",onClick:t=>i.registroEdit(e.node),icon:"edit",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(r,{flat:"",dense:"",onClick:t=>i.materiaDelete(e.node),icon:"delete",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:2},1032,["onClick"])])):((0,s.wg)(),(0,s.iD)("div",tt,[(0,s.Uk)((0,f.zw)(e.node.label)+" ",1),(0,s.Wm)(r,{flat:"",dense:"",onClick:t=>i.materiaEdit(e.node),icon:"edit",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Modificar")])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(r,{flat:"",dense:"",onClick:t=>i.materiaDelete(e.node),icon:"delete",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar")])),_:1})])),_:2},1032,["onClick"]),"materia"==e.node.type?((0,s.wg)(),(0,s.j4)(r,{key:0,flat:"",dense:"",onClick:t=>i.semestreCreate(e.node),icon:"add_circle_outline",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"semestre"==e.node.type?((0,s.wg)(),(0,s.j4)(r,{key:1,flat:"",dense:"",onClick:t=>i.documentoCreate(e.node),icon:"add_circle_outline",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"documento"==e.node.type?((0,s.wg)(),(0,s.j4)(r,{key:2,flat:"",dense:"",onClick:t=>i.registroCreate(e.node),icon:"add_circle_outline",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Crear")])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0)]))])])),_:1},8,["nodes"])])]),(0,s.Wm)(g,{modelValue:l.registroDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>l.registroDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{width:"700px","max-width":"80vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[ot])),_:1}),(0,s.Wm)(c,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:i.registroSave,onReset:t[2]||(t[2]=e=>l.registroDialog=!1),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{outlined:"",modelValue:l.registro.nombre,"onUpdate:modelValue":t[0]||(t[0]=e=>l.registro.nombre=e),label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(m,{outlined:"",modelValue:l.registro.url,"onUpdate:modelValue":t[1]||(t[1]=e=>l.registro.url=e),label:"Url"},null,8,["modelValue"]),(0,s.Wm)(r,{type:"submit",color:"primary",label:"Guardar"}),(0,s.Wm)(r,{type:"reset",color:"primary",flat:"",label:"Cancelar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const lt={name:"Portafolio",data(){return{registro:{},loading:!1,expanded:!0,materias:[],store:(0,D.A)(),registroDialog:!1,registroInsert:!0}},created(){this.materiaGet()},methods:{registroSave(){this.registroInsert?this.$api.post("registro",this.registro).then((e=>{this.registroDialog=!1,this.materiaGet()})):this.$api.put("registro/"+this.registro.id,this.registro).then((e=>{this.registroDialog=!1,this.materiaGet()}))},registroCreate(e){e.nombre="",e.documento_id=e.id,this.registroInsert=!0,this.registro=e,this.registroDialog=!0},registroEdit(e){this.registro=e,this.registroInsert=!1,this.registroDialog=!0},documentoCreate(e){console.log(e),this.$q.dialog({title:"Crear documento",prompt:{model:"",type:"text",label:"Nombre del documento",hint:"Ejemplo: Tarea 1"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.post("/documento",{nombre:t,semestre_id:e.id}).then((e=>{console.log(e.data),this.$q.notify({message:"Documento creado",color:"positive",icon:"check_circle"}),this.materiaGet()})).catch((e=>{this.$q.notify({message:"Error al crear documento",color:"negative",icon:"error"})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},semestreCreate(e){this.$q.dialog({title:"Crear semetre",message:"Ingrese el nombre del semestre",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.post("semestre",{nombre:t,materia_id:e.id}).then((e=>{this.materiaGet()}))}))},materiaDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar?",ok:"Si",cancel:"No"}).onOk((()=>{this.loading=!0,this.$api.delete(`${e.type}/${e.id}`).then((e=>{this.loading=!1,this.$q.notify({message:"Eliminado",color:"positive",position:"top",icon:"check_circle"}),this.materiaGet()})).catch((e=>{this.loading=!1,this.$q.notify({message:e.response.data.message,color:"negative",position:"top",icon:"error"})}))}))},materiaEdit(e){this.$q.dialog({title:"Editar ",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.put(e.type+"/"+e.id,{nombre:t}).then((e=>{this.materiaGet()}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismiss")}))},materiaCreate(){this.$q.dialog({title:"Crear materia",message:"Ingrese el nombre de la materia",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.loading=!0,this.$api.post("materia",{nombre:e,user_id:this.store.user.id}).then((e=>{this.loading=!1,this.$q.notify({message:"Materia creada",color:"positive",icon:"check_circle",position:"top"}),this.materiaGet()})).catch((e=>{this.loading=!1,this.$q.notify({message:"Error al crear materia",color:"negative",icon:"error",position:"top"})}))}))},openPage(e){window.open(e,"_blank")},materiaGet(){this.loading=!0,this.$api.get("materia").then((e=>{this.loading=!1,this.materias=[],e.data.forEach((e=>{e.label=e.nombre,e.icon="o_menu_book",e.type="materia",void 0!=e.semestres&&(e.semestres.forEach((e=>{e.label=e.nombre,e.icon="o_local_library",e.type="semestre",void 0!=e.documentos&&(e.documentos.forEach((e=>{e.label=e.nombre,e.icon="o_school",e.type="documento",void 0!=e.registros&&(e.registros.forEach((e=>{e.label=e.nombre,e.icon="o_book",e.type="registro",e.url=e.url})),e.children=e.registros)})),e.children=e.documentos)})),e.children=e.semestres),this.materias.push(e)}))}))}}};var it=o(1893),st=o(6858),rt=o(2074);const nt=(0,d.Z)(lt,[["render",at]]),dt=nt;J()(lt,"components",{QPage:_e.Z,QBtn:S.Z,QTree:it.Z,QIcon:O.Z,QTooltip:st.Z,QDialog:rt.Z,QCard:be.Z,QCardSection:ve.Z,QForm:Ge.Z,QInput:P.Z});const ut=(0,s._)("div",{class:"text-h6"},"Agregar Usuario",-1),ct=(0,s._)("div",{class:"text-h6"},"Agregar Usuario",-1);function mt(e,t,o,l,i,r){const n=(0,s.up)("q-btn"),d=(0,s.up)("q-input"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-td"),m=(0,s.up)("q-table"),p=(0,s.up)("q-card-section"),h=(0,s.up)("q-form"),g=(0,s.up)("q-card"),f=(0,s.up)("q-dialog"),w=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{rows:i.users,columns:i.userColums,filter:i.search},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",icon:"add_circle_outline",onClick:t[0]||(t[0]=e=>{i.showAddUserDialog=!0,i.userCrear=!0})}),(0,s.Wm)(d,{modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-role":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e,"auto-width":""},null,8,["props"])])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",dense:"",icon:"o_edit",onClick:t=>r.userEdit(e.row)},null,8,["onClick"]),1!=e.row.id?((0,s.wg)(),(0,s.j4)(n,{key:0,flat:"",dense:"",icon:"o_delete",onClick:t=>r.userDelete(e.row)},null,8,["onClick"])):(0,s.kq)("",!0),1!=e.row.id?((0,s.wg)(),(0,s.j4)(n,{key:1,flat:"",dense:"",icon:"o_key",onClick:t=>r.updatePassword(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(f,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center"},{default:(0,s.w5)((()=>[ut])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:(0,a.iM)(r.userCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.user.name,"onUpdate:modelValue":t[2]||(t[2]=e=>i.user.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.user.email,"onUpdate:modelValue":t[3]||(t[3]=e=>i.user.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.user.password,"onUpdate:modelValue":t[4]||(t[4]=e=>i.user.password=e),type:"password",hint:"",required:"",outlined:"",label:"Password"},null,8,["modelValue"]),(0,s.Wm)(n,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(f,{modelValue:i.showUpdateUserDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>i.showUpdateUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center"},{default:(0,s.w5)((()=>[ct])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:(0,a.iM)(r.userUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.user.name,"onUpdate:modelValue":t[6]||(t[6]=e=>i.user.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.user.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.user.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(n,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const pt={name:"User",data(){return{roles:["INSCRIPCION","ACREDITACION","REFRIGERIO","ADMINISTRADOR"],showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",users:[],user:{},loading:!1,userCrear:!0,userColums:[{name:"option",field:"option",label:"Opciones",align:"left",sortable:!0},{name:"role",field:"role",label:"Rol",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0},{name:"email",label:"Email",field:"email",align:"left",sortable:!0}]}},methods:{userUpdate(){this.loading=!0,this.$api.put(`user/${this.user.id}`,this.user).then((e=>{this.loading=!1,this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Usuario actualizado"}),this.user={},this.usersGet()})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar usuario"})}))},usersGet(){this.$q.loading.show(),this.$api.get("user").then((e=>{this.users=e.data,this.$q.loading.hide()}))},userCreate(){this.userCrear?(this.loading=!0,this.$api.post("user",this.user).then((e=>{console.log(e.data),this.usersGet(),this.showAddUserDialog=!1,this.user={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))):(this.loading=!0,this.$api.put("user/"+this.user.id,this.user).then((e=>{this.usersGet(),this.showAddUserDialog=!1,this.user={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},userEdit(e){this.user=e,this.userCrear=!1,this.showUpdateUserDialog=!0},updatePassword(e){this.$q.dialog({title:"Cambiar contraseña",message:"Ingrese la nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{this.$api.put(`updatePassword/${e.id}`,{password:t}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"Contraseña actualizada"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"error",position:"top",message:e.response.data.message})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},userDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el usuario?",ok:"Si",cancel:"No"}).onOk((()=>{this.$q.loading.show(),this.$api.delete("user/"+e.id).then((e=>{this.usersGet()}))}))}},created(){this.usersGet()}};var ht=o(4356),gt=o(7220),ft=o(7887);const wt=(0,d.Z)(pt,[["render",mt]]),_t=wt;J()(pt,"components",{QPage:_e.Z,QTable:ht.Z,QToolbar:E.Z,QBtn:S.Z,QInput:P.Z,QTd:gt.Z,QBadge:j.Z,QDialog:rt.Z,QCard:be.Z,QCardSection:ve.Z,QForm:Ge.Z,QSelect:ft.Z});const bt={class:"row q-pa-lg"},vt={class:"col-12 col-sm-6"},qt={class:"col-12 col-sm-6"},yt={class:"col-12 col-sm-6"},Wt={class:"col-12 col-sm-6"},Ct={class:"col-12 col-sm-6"},kt={class:"col-12 col-sm-6"},xt={class:"col-12 col-sm-6"},Vt={class:"col-12 col-sm-6"},Ut={class:"col-12 flex flex-center"},Dt={class:"col-12 q-pt-md"};function $t(e,t,o,l,i,r){const n=(0,s.up)("q-input"),d=(0,s.up)("q-uploader"),u=(0,s.up)("q-btn"),c=(0,s.up)("q-form"),m=(0,s.up)("q-card-section"),p=(0,s.up)("q-card"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{onSubmit:(0,a.iM)(r.userSave,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",bt,[(0,s._)("div",vt,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.store.user.name=e),label:"Nombre completo",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",qt,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>i.store.user.email=e),label:"Correo",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",yt,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.filosofia,"onUpdate:modelValue":t[2]||(t[2]=e=>i.store.user.filosofia=e),label:"Filosofía",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Wt,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.ensenanza,"onUpdate:modelValue":t[3]||(t[3]=e=>i.store.user.ensenanza=e),label:"Enseñanza",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Ct,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.estrategia,"onUpdate:modelValue":t[4]||(t[4]=e=>i.store.user.estrategia=e),label:"Estrategia",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",kt,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.objeto,"onUpdate:modelValue":t[5]||(t[5]=e=>i.store.user.objeto=e),label:"Objetivo",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",xt,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.metodologia,"onUpdate:modelValue":t[6]||(t[6]=e=>i.store.user.metodologia=e),label:"Metodología",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Vt,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:i.store.user.curriculum,"onUpdate:modelValue":t[7]||(t[7]=e=>i.store.user.curriculum=e),label:"Curriculum",hint:"",required:""},null,8,["modelValue"])]),(0,s._)("div",Ut,[(0,s.Wm)(d,{accept:".jpg, .png",onAdded:r.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:r.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",Dt,[(0,s.Wm)(u,{loading:i.loading,class:"full-width",type:"submit",color:"primary","no-caps":"",icon:"add_circle_outline",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})}const Zt={name:"Datos",data(){return{store:(0,D.A)(),foto:"",loading:!1}},methods:{uploadFile(e){this.loading=!0;let t=this.$q.dialog({message:"Subiendo... 0%"}),o=0;const a=new FormData;return a.append("file",e[0]),new Promise(((l,i)=>{this.$api.post("upload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{o=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${o}%`}),o>=100&&t.hide()}}).then((t=>{this.foto=t.data,this.loading=!1,l(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},userSave(){if(""==this.foto)return this.$q.notify({type:"negative",message:"Debe subir una foto",position:"top"}),!1;this.store.user.foto=this.foto,this.$api.put("user/"+this.store.user.id,this.store.user).then((e=>{console.log(e.data),this.$q.notify({type:"positive",message:"Usuario guardado",position:"top"})})).catch((e=>{this.$q.notify({type:"negative",message:"Error al guardar usuario",position:"top"})}))}}};var Qt=o(4343);const At=(0,d.Z)(Zt,[["render",$t]]),Et=At;J()(Zt,"components",{QPage:_e.Z,QCard:be.Z,QCardSection:ve.Z,QForm:Ge.Z,QInput:P.Z,QUploader:Qt.Z,QBtn:S.Z});const St={class:"text-h6"},It=(0,s._)("div",{class:"text-h6"},"Agregar Estudiante",-1);function Pt(e,t,o,l,i,r){const n=(0,s.up)("q-btn"),d=(0,s.up)("q-input"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-td"),m=(0,s.up)("q-table"),p=(0,s.up)("q-card-section"),h=(0,s.up)("q-form"),g=(0,s.up)("q-card"),w=(0,s.up)("q-dialog"),_=(0,s.up)("q-select"),b=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{rows:i.students,columns:i.studentColums,filter:i.search},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{icon:"add_circle_outline",color:"primary",label:"Crear Esudiante","no-caps":"",onClick:r.studentClickCreate},null,8,["onClick"]),(0,s.Wm)(d,{modelValue:i.search,"onUpdate:modelValue":t[0]||(t[0]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",dense:"",icon:"o_edit",onClick:t=>r.studentEdit(e.row)},null,8,["onClick"]),(0,s.Wm)(n,{flat:"",dense:"",icon:"o_delete",onClick:t=>r.studentDelete(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(w,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s._)("div",St,(0,f.zw)(i.studentCrear?"Crear":"Actualizar")+" Estudiante",1)])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:(0,a.iM)(r.studentCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.student.name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.student.name=e),hint:"",dense:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.last,"onUpdate:modelValue":t[2]||(t[2]=e=>i.student.last=e),hint:"",dense:"",required:"",outlined:"",label:"Apellido"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.code,"onUpdate:modelValue":t[3]||(t[3]=e=>i.student.code=e),hint:"",dense:"",required:"",outlined:"",label:"Código",type:"number"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>i.student.phone=e),hint:"",dense:"",required:"",outlined:"",label:"Teléfono",type:"number"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.birthday,"onUpdate:modelValue":t[5]||(t[5]=e=>i.student.birthday=e),hint:"",dense:"",required:"",outlined:"",label:"Fecha de Nacimiento",type:"date"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.email,"onUpdate:modelValue":t[6]||(t[6]=e=>i.student.email=e),hint:"",dense:"",required:"",outlined:"",label:"Correo",type:"email"},null,8,["modelValue"]),(0,s.Wm)(n,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:i.studentCrear?"Crear":"Actualizar",class:"full-width"},null,8,["loading","label"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:i.showUpdateUserDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.showUpdateUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center"},{default:(0,s.w5)((()=>[It])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:(0,a.iM)(r.studentUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.student.name,"onUpdate:modelValue":t[8]||(t[8]=e=>i.student.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(d,{modelValue:i.student.email,"onUpdate:modelValue":t[9]||(t[9]=e=>i.student.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(_,{modelValue:i.student.role,"onUpdate:modelValue":t[10]||(t[10]=e=>i.student.role=e),hint:"",required:"",outlined:"",label:"Rol",options:i.roles},null,8,["modelValue","options"]),(0,s.Wm)(n,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Ot={name:"User",data(){return{store:(0,D.A)(),roles:["INSCRIPCION","ACREDITACION","REFRIGERIO","ADMINISTRADOR"],showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",students:[],student:{},loading:!1,studentCrear:!0,studentColums:[{name:"option",field:"option",label:"Opciones",align:"left",sortable:!0},{name:"name",label:"Nombre",field:e=>e.name+" "+e.last,align:"left",sortable:!0},{name:"email",label:"Email",field:"email",align:"left",sortable:!0},{name:"code",label:"Código",field:"code",align:"left",sortable:!0},{name:"phone",label:"Teléfono",field:"phone",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0}]}},methods:{studentUpdate(){this.loading=!0,this.$api.put(`student/${this.student.id}`,this.student).then((e=>{this.loading=!1,this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Estudiante actualizado"}),this.student={},this.studentsGet()})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar usuario"})}))},studentsGet(){this.$q.loading.show(),this.$api.get("student").then((e=>{this.students=e.data,this.$q.loading.hide()}))},studentCreate(){this.studentCrear?(this.loading=!0,this.student.user_id=this.store.user.id,this.$api.post("student",this.student).then((e=>{this.studentsGet(),this.showAddUserDialog=!1,this.student={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))):(this.loading=!0,this.$api.put("student/"+this.student.id,this.student).then((e=>{this.studentsGet(),this.showAddUserDialog=!1,this.student={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},studentClickCreate(){this.studentCrear=!0,this.showAddUserDialog=!0,this.student={name:"",last:"",code:"",birthday:$.ZP.formatDate(new Date,"YYYY-MM-DD"),email:""}},studentEdit(e){this.student=e,this.studentCrear=!1,this.showAddUserDialog=!0},studentDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el usuario?",ok:"Si",cancel:"No"}).onOk((()=>{this.$q.loading.show(),this.$api.delete("student/"+e.id).then((e=>{this.studentsGet()}))}))}},created(){this.studentsGet()}},jt=(0,d.Z)(Ot,[["render",Pt]]),zt=jt;J()(Ot,"components",{QPage:_e.Z,QTable:ht.Z,QToolbar:E.Z,QBtn:S.Z,QInput:P.Z,QTd:gt.Z,QDialog:rt.Z,QCard:be.Z,QCardSection:ve.Z,QForm:Ge.Z,QSelect:ft.Z});const Nt={class:"text-bold"},Tt=(0,s._)("div",{class:"text-h6"},"Registrar Estudiante",-1),Gt=(0,s._)("div",{class:"text-h6"},"Nota Estudiante",-1),Rt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"text-left"},"N"),(0,s._)("th",{class:"text-left"},"Nombre"),(0,s._)("th",{class:"text-right"},"Nota")])],-1),Mt={class:"text-left"},Lt={class:"text-left"},Bt={class:"text-right"};function Ft(e,t,o,l,i,r){const n=(0,s.up)("q-select"),d=(0,s.up)("q-btn"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-input"),m=(0,s.up)("q-td"),p=(0,s.up)("q-table"),h=(0,s.up)("q-card-section"),g=(0,s.up)("q-form"),w=(0,s.up)("q-card"),_=(0,s.up)("q-dialog"),b=(0,s.up)("q-markup-table"),v=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{rows:i.records,columns:i.studentColums,filter:i.search},{"top-left":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{dense:"",outlined:"",options:i.materias,modelValue:i.materia,"onUpdate:modelValue":t[0]||(t[0]=e=>i.materia=e),loading:i.loading,label:"Materia"},null,8,["options","modelValue","loading"]),(0,s.Wm)(d,{icon:"search",color:"primary",label:"Consultar","no-caps":"",onClick:r.recordGet,loading:i.loading},null,8,["onClick","loading"])])),_:1})])),"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{icon:"add_circle_outline",color:"primary",label:"Registrar Notas",loading:i.loading,"no-caps":"",onClick:r.noteClickCreate},null,8,["loading","onClick"]),(0,s.Wm)(d,{icon:"add_circle_outline",color:"primary",label:"Registrar Estudiante",loading:i.loading,"no-caps":"",onClick:r.studentClickCreate},null,8,["loading","onClick"]),(0,s.Wm)(c,{modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",dense:"",icon:"o_delete",onClick:t=>r.studentDelete(e.row)},null,8,["onClick"]),(0,s.Uk)(),(0,s._)("span",Nt,(0,f.zw)(e.pageIndex+1),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(_,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Tt])),_:1}),(0,s.Wm)(h,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,a.iM)(r.studentCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{dense:"",outlined:"",options:i.students,modelValue:i.student,"onUpdate:modelValue":t[2]||(t[2]=e=>i.student=e),label:"Estudiante"},null,8,["options","modelValue"]),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Agregar estudiante",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(_,{modelValue:i.noteDialogShow,"onUpdate:modelValue":t[5]||(t[5]=e=>i.noteDialogShow=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Gt])),_:1}),(0,s.Wm)(h,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,a.iM)(r.noteCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:i.descripcion,"onUpdate:modelValue":t[4]||(t[4]=e=>i.descripcion=e),label:"Descripción",required:""},null,8,["modelValue"]),(0,s.Wm)(b,{dense:""},{default:(0,s.w5)((()=>[Rt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.records,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",Mt,(0,f.zw)(t+1),1),(0,s._)("td",Lt,(0,f.zw)(e.student.name)+" "+(0,f.zw)(e.student.last),1),(0,s._)("td",Bt,[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:e.note,"onUpdate:modelValue":t=>e.note=t,type:"number",min:"0",max:"20",required:""},null,8,["modelValue","onUpdate:modelValue"])])])))),128))])])),_:1}),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Crear notas",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Yt={name:"Note",data(){return{store:(0,D.A)(),materias:[],descripcion:"",materia:{},noteDialogShow:!1,showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",students:[],student:{},records:[],record:{},loading:!1,studentCrear:!0,studentColums:[]}},methods:{noteCreate(){this.loading=!0,this.records.forEach((e=>{e.record_id=e.id,e.students_id=e.student.id,e.materia_id=this.materia.id})),this.$api.post("note",{description:this.descripcion,records:this.records}).then((e=>{this.recordGet(),this.loading=!1,this.$q.notify({color:"positive",message:"Notas registradas",icon:"check_circle",position:"top"}),this.noteDialogShow=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:"Error al registrar notas",icon:"warning",position:"top"})}))},recordGet(){this.loading=!0,this.$api.get(`record/${this.materia.id}`).then((e=>{this.records=e.data,this.loading=!1,this.studentColums=[{name:"option",field:"option",label:"Opciones",align:"left"},{name:"name",label:"Nombre",field:e=>e.student.name+" "+e.student.last,align:"left",sortable:!0}],this.records.length>0&&this.records[0].notes.forEach((e=>{this.studentColums.push({name:e.description,label:e.description,field:t=>t.notes.find((t=>t.description===e.description)).note,align:"left",sortable:!0})})),this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Estudiantes actualizado"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar estudiantes"})}))},studentCreate(){let e=this.records.find((e=>e.student.id===this.student.id));e?this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"El estudiante ya se encuentra registrado"}):(this.loading=!0,this.$api.post("record",{student_id:this.student.id,materia_id:this.materia.id}).then((e=>{this.recordGet(),this.showAddUserDialog=!1,this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},noteClickCreate(){this.records.forEach((e=>{e.note=0})),this.noteDialogShow=!0},studentClickCreate(){this.studentCrear=!0,this.showAddUserDialog=!0},studentEdit(e){this.student=e,this.studentCrear=!1,this.showAddUserDialog=!0},studentDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el estudiante?",ok:"Si",cancel:"No"}).onOk((()=>{this.$api.delete("record/"+e.id).then((e=>{this.recordGet()}))}))}},created(){this.$api.get("materia").then((e=>{e.data.forEach((e=>{e.label=e.nombre,this.materias.push(e)})),this.materia=this.materias[0]})),this.$api.get("student").then((e=>{e.data.forEach((e=>{e.label=e.name+" "+e.last,this.students.push(e)})),this.student=this.students[0],this.recordGet()}))}};var Ht=o(6933);const Jt=(0,d.Z)(Yt,[["render",Ft]]),Kt=Jt;J()(Yt,"components",{QPage:_e.Z,QTable:ht.Z,QToolbar:E.Z,QSelect:ft.Z,QBtn:S.Z,QInput:P.Z,QTd:gt.Z,QDialog:rt.Z,QCard:be.Z,QCardSection:ve.Z,QForm:Ge.Z,QMarkupTable:Ht.Z});const Xt={class:"text-bold"},eo=(0,s._)("div",{class:"text-h6"},"Registrar Estudiante",-1),to=(0,s._)("div",{class:"text-h6"},"Asistencia Estudiante",-1),oo=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"text-left"},"N"),(0,s._)("th",{class:"text-left"},"Nombre"),(0,s._)("th",{class:"text-right"},"Nota")])],-1),ao={class:"text-left"},lo={class:"text-left"},io={class:"text-right"};function so(e,t,o,l,i,r){const n=(0,s.up)("q-select"),d=(0,s.up)("q-btn"),u=(0,s.up)("q-toolbar"),c=(0,s.up)("q-input"),m=(0,s.up)("q-td"),p=(0,s.up)("q-table"),h=(0,s.up)("q-card-section"),g=(0,s.up)("q-form"),w=(0,s.up)("q-card"),_=(0,s.up)("q-dialog"),b=(0,s.up)("q-markup-table"),v=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{rows:i.records,columns:i.studentColums,filter:i.search},{"top-left":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{dense:"",outlined:"",options:i.materias,modelValue:i.materia,"onUpdate:modelValue":t[0]||(t[0]=e=>i.materia=e),loading:i.loading,label:"Materia"},null,8,["options","modelValue","loading"]),(0,s.Wm)(d,{icon:"search",color:"primary",label:"Consultar","no-caps":"",onClick:r.recordGet,loading:i.loading},null,8,["onClick","loading"])])),_:1})])),"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{icon:"add_circle_outline",color:"primary",label:"Registrar Asistencia",loading:i.loading,"no-caps":"",onClick:r.noteClickCreate},null,8,["loading","onClick"]),(0,s.Wm)(c,{modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",dense:"",icon:"o_delete",onClick:t=>r.studentDelete(e.row)},null,8,["onClick"]),(0,s.Uk)(),(0,s._)("span",Xt,(0,f.zw)(e.pageIndex+1),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(_,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[eo])),_:1}),(0,s.Wm)(h,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,a.iM)(r.studentCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{dense:"",outlined:"",options:i.students,modelValue:i.student,"onUpdate:modelValue":t[2]||(t[2]=e=>i.student=e),label:"Estudiante"},null,8,["options","modelValue"]),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Agregar estudiante",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(_,{modelValue:i.noteDialogShow,"onUpdate:modelValue":t[5]||(t[5]=e=>i.noteDialogShow=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[to])),_:1}),(0,s.Wm)(h,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,a.iM)(r.noteCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:i.fecha,"onUpdate:modelValue":t[4]||(t[4]=e=>i.fecha=e),label:"Fecha",type:"date"},null,8,["modelValue"]),(0,s.Wm)(b,{dense:""},{default:(0,s.w5)((()=>[oo,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.records,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",ao,(0,f.zw)(t+1),1),(0,s._)("td",lo,(0,f.zw)(e.student.name)+" "+(0,f.zw)(e.student.last),1),(0,s._)("td",io,[(0,s.Wm)(n,{dense:"",outlined:"",options:i.asistencias,modelValue:e.asistencia,"onUpdate:modelValue":t=>e.asistencia=t,label:"Asistencia"},null,8,["options","modelValue","onUpdate:modelValue"])])])))),128))])])),_:1}),(0,s.Wm)(d,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Crear Asistencia",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const ro={name:"Asistencia",data(){return{store:(0,D.A)(),materias:[],descripcion:"",materia:{},asistencias:["Presente","Falta","Retardo","Falta Justificada","Retardo Justificado","Expulsión"],fecha:$.ZP.formatDate(new Date,"YYYY-MM-DD"),noteDialogShow:!1,showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",students:[],student:{},records:[],record:{},loading:!1,studentCrear:!0,studentColums:[]}},methods:{noteCreate(){this.loading=!0,this.records.forEach((e=>{e.record_id=e.id,e.students_id=e.student.id,e.materia_id=this.materia.id})),this.$api.post("attendance",{description:this.descripcion,records:this.records}).then((e=>{this.recordGet(),this.loading=!1,this.$q.notify({color:"positive",message:"Notas registradas",icon:"check_circle",position:"top"}),this.noteDialogShow=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:"Error al registrar asistencia",icon:"warning",position:"top"})}))},recordGet(){this.loading=!0,this.$api.get(`record/${this.materia.id}`).then((e=>{this.records=e.data,this.loading=!1,this.studentColums=[{name:"option",field:"option",label:"Opciones",align:"left"},{name:"name",label:"Nombre",field:e=>e.student.name+" "+e.student.last,align:"left",sortable:!0}],this.records.length>0&&this.records[0].attendance.forEach((e=>{this.studentColums.push({name:e.date,label:e.date,field:t=>t.attendance.find((t=>t.date===e.date)).status,align:"left",sortable:!0})})),this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Estudiantes actualizado"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar estudiantes"})}))},studentCreate(){let e=this.records.find((e=>e.student.id===this.student.id));e?this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"El estudiante ya se encuentra registrado"}):(this.loading=!0,this.$api.post("record",{student_id:this.student.id,materia_id:this.materia.id}).then((e=>{this.recordGet(),this.showAddUserDialog=!1,this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},noteClickCreate(){this.records.forEach((e=>{e.asistencia="Presente"})),this.noteDialogShow=!0},studentClickCreate(){this.studentCrear=!0,this.showAddUserDialog=!0},studentEdit(e){this.student=e,this.studentCrear=!1,this.showAddUserDialog=!0},studentDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el estudiante?",ok:"Si",cancel:"No"}).onOk((()=>{this.$api.delete("record/"+e.id).then((e=>{this.recordGet()}))}))}},created(){this.$api.get("materia").then((e=>{e.data.forEach((e=>{e.label=e.nombre,this.materias.push(e)})),this.materia=this.materias[0]})),this.$api.get("student").then((e=>{e.data.forEach((e=>{e.label=e.name+" "+e.last,this.students.push(e)})),this.student=this.students[0],this.recordGet()}))}},no=(0,d.Z)(ro,[["render",so]]),uo=no;J()(ro,"components",{QPage:_e.Z,QTable:ht.Z,QToolbar:E.Z,QSelect:ft.Z,QBtn:S.Z,QInput:P.Z,QTd:gt.Z,QDialog:rt.Z,QCard:be.Z,QCardSection:ve.Z,QForm:Ge.Z,QMarkupTable:Ht.Z});const co=[{path:"/",component:X,children:[{path:"",component:ye,meta:{requiresAuth:!0}},{path:"portafolio",component:dt,meta:{requiresAuth:!0}},{path:"user",component:_t,meta:{requiresAuth:!0}},{path:"datos",component:Et,meta:{requiresAuth:!0}},{path:"student",component:zt,meta:{requiresAuth:!0}},{path:"note",component:Kt,meta:{requiresAuth:!0}},{path:"asistencia",component:uo,meta:{requiresAuth:!0}}]},{path:"/login",component:Le},{path:"/:catchAll(.*)*",component:()=>o.e(862).then(o.bind(o,1862))}],mo=co,po=(0,m.BC)((function(){const e=g.r5,t=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:mo,history:e("")});return t.beforeEach(((e,t,o)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,D.A)().isLoggedIn)return void o();o("/login")}else o()})),t}));async function ho(e,t){const o=e(c);o.use(l.Z,t);const a="function"===typeof h?await h({}):h;o.use(a);const s=(0,i.Xl)("function"===typeof po?await po({store:a}):po);return a.use((({store:e})=>{e.router=s})),{app:o,store:a,router:s}}var go=o(8934),fo=o(6827),wo=o(7975),_o=o(6950);const bo={config:{},lang:go.Z,plugins:{Notify:fo.Z,Dialog:wo.Z,Loading:_o.Z}};var vo=o(368);(0,vo.z)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&o.e(736).then(o.t.bind(o,4848,23));const qo="";async function yo({app:e,router:t,store:o},a){let l=!1;const i=e=>{try{return t.resolve(e).href}catch(o){}return Object(e)===e?null:e},s=e=>{if(l=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=i(e);null!==t&&(window.location.href=t,window.location.reload())},r=window.location.href.replace(window.location.origin,"");for(let d=0;!1===l&&d<a.length;d++)try{await a[d]({app:e,router:t,store:o,ssrContext:null,redirect:s,urlPath:r,publicPath:qo})}catch(n){return n&&n.url?void s(n.url):void console.error("[Quasar] boot error:",n)}!0!==l&&(e.use(t),e.mount("#q-app"))}ho(a.ri,bo).then((e=>{const[t,a]=void 0!==Promise.allSettled?["allSettled",e=>e.map((e=>{if("rejected"!==e.status)return e.value.default;console.error("[Quasar] boot error:",e.reason)}))]:["all",e=>e.map((e=>e.default))];return Promise[t]([Promise.resolve().then(o.bind(o,1569))]).then((t=>{const o=a(t).filter((e=>"function"===typeof e));yo(e,o)}))}))},1569:(e,t,o)=>{o.r(t),o.d(t,{api:()=>r,default:()=>n});o(9665);var a=o(3340),l=o(9981),i=o.n(l),s=o(7292);const r=i().create({baseURL:"https://bportafolio.siscenter.org/api/"}),n=(0,a.xr)((({app:e,router:t})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=r;const o=localStorage.getItem("tokenPort");o&&(e.config.globalProperties.$api.defaults.headers.common["Authorization"]="Bearer "+o,e.config.globalProperties.$api.post("me").then((e=>{(0,s.A)().user=e.data,(0,s.A)().isLoggedIn=!0})).catch((o=>{e.config.globalProperties.$api.defaults.headers.common["Authorization"]="",(0,s.A)().user={},localStorage.removeItem("tokenPort"),(0,s.A)().isLoggedIn=!1,t.push("/login")})))}))},7292:(e,t,o)=>{o.d(t,{A:()=>l});var a=o(1809);const l=(0,a.Q_)("counter",{state:()=>({user:{},isLoggedIn:!!localStorage.getItem("tokenPort")}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})}},t={};function o(a){var l=t[a];if(void 0!==l)return l.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,o),i.exports}o.m=e,(()=>{var e=[];o.O=(t,a,l,i)=>{if(!a){var s=1/0;for(u=0;u<e.length;u++){for(var[a,l,i]=e[u],r=!0,n=0;n<a.length;n++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](a[n])))?a.splice(n--,1):(r=!1,i<s&&(s=i));if(r){e.splice(u--,1);var d=l();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,l,i]}})(),(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(a,l){if(1&l&&(a=this(a)),8&l)return a;if("object"===typeof a&&a){if(4&l&&a.__esModule)return a;if(16&l&&"function"===typeof a.then)return a}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var r=2&l&&a;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((e=>s[e]=()=>a[e]));return s["default"]=()=>a,o.d(i,s),i}})(),(()=>{o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[]))})(),(()=>{o.u=e=>"js/"+e+".6bce0d26.js"})(),(()=>{o.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"61aef7f7",736:"4cde08dd"}[e]+".css"})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="front:";o.l=(a,l,i,s)=>{if(e[a])e[a].push(l);else{var r,n;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==t+i){r=c;break}}r||(n=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,o.nc&&r.setAttribute("nonce",o.nc),r.setAttribute("data-webpack",t+i),r.src=a),e[a]=[l];var m=(t,o)=>{r.onerror=r.onload=null,clearTimeout(p);var l=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),l&&l.forEach((e=>e(o))),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),n&&document.head.appendChild(r)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p=""})(),(()=>{var e={143:0};o.f.j=(t,a)=>{var l=o.o(e,t)?e[t]:void 0;if(0!==l)if(l)a.push(l[2]);else{var i=new Promise(((o,a)=>l=e[t]=[o,a]));a.push(l[2]=i);var s=o.p+o.u(t),r=new Error,n=a=>{if(o.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",r.name="ChunkLoadError",r.type=i,r.request=s,l[1](r)}};o.l(s,n,"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var l,i,[s,r,n]=a,d=0;if(s.some((t=>0!==e[t]))){for(l in r)o.o(r,l)&&(o.m[l]=r[l]);if(n)var u=n(o)}for(t&&t(a);d<s.length;d++)i=s[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},a=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=o.O(void 0,[736],(()=>o(7343)));a=o.O(a)})();